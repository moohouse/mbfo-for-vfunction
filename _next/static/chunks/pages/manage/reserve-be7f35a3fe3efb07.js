(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7957],{11640:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var s=n(83946),r=n(19013),a=n(13882);function i(e,t){(0,a.Z)(2,arguments);var n=(0,r.Z)(e),i=(0,s.Z)(t);if(isNaN(i))return new Date(NaN);if(!i)return n;var c=n.getDate(),o=new Date(n.getTime());o.setMonth(n.getMonth()+i+1,0);var d=o.getDate();return c>=d?o:(n.setFullYear(o.getFullYear(),o.getMonth(),c),n)}},313:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var s=n(19013),r=n(13882);function a(e,t){(0,r.Z)(2,arguments);var n=(0,s.Z)(e),a=(0,s.Z)(t);return n.getTime()<a.getTime()}},1784:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var s=n(58545),r=n(13882),a=n(83946);function i(e,t){(0,r.Z)(2,arguments);var n=(0,a.Z)(t);return(0,s.Z)(e,-n)}},54559:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var s=n(83946),r=n(11640),a=n(13882);function i(e,t){(0,a.Z)(2,arguments);var n=(0,s.Z)(t);return(0,r.Z)(e,-n)}},42517:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/manage/reserve",function(){return n(95186)}])},10279:function(e,t,n){"use strict";n.d(t,{Z:function(){return s.Z}});var s=n(96933)},95186:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return y}});var s=n(47568),r=n(70655),a=n(85893),i=n(60228),c=n(22435),o=n(10279),d=n(67294),l=n(63926),u=n(313),h=n(1784),m=n(54559),f=n(46834),x=n(11163),v=n(47398),g=n(8100),j=n(88674),p=n(9669),b=n.n(p),w={title:"\ubb38\uc790\uc608\uc57d\ubaa9\ub85d",wrapperClass:"send-list",isAside:!0,titleGroup:{sTitle:"\ubb38\uc790\uc608\uc57d\ubaa9\ub85d.",desc:"\ubb38\uc790\uc608\uc57d\ubaa9\ub85d\uc744 \ud655\uc778\ud574\ubcf4\uc138\uc694!",icon:"reserve"}},y=!0;t.default=function(e){var t,n,p,y=e.svcKndCd,N=(0,d.useState)(null===(t=y[0])||void 0===t?void 0:t.cdNm),Z=N[0],D=N[1],C=(0,d.useState)(new Date),_=C[0],M=C[1],S=(0,d.useState)(new Date),k=S[0],E=S[1],G=(0,d.useState)(""),I=G[0],T=G[1],A=(0,d.useState)(""),H=A[0],L=A[1],P=(0,d.useState)(!1),R=P[0],U=P[1],F=(0,d.useState)(0),K=F[0],B=F[1],O=(0,d.useState)(new Date),q=O[0],z=O[1],J=(0,d.useState)(!1),X=J[0],Y=J[1],W=(0,d.useState)(""),Q=W[0],V=W[1],$=(0,d.useState)(1),ee=$[0],te=$[1],ne="/api/fo/send/reservation/message?svcKndCd=".concat((0,j.o6)(y,Z),"&keyword=").concat(encodeURIComponent(H),"&regBeginDate=").concat((0,l.Z)(_,"yyyy-MM-dd"),"&regEndDate=").concat((0,l.Z)(k,"yyyy-MM-dd"),"&page=").concat(ee,"&offset=").concat(20),se=(0,f.s)(ne).data,re={startDate:_,setStartDate:M,endDate:k,setEndDate:E,reset:R,setReset:U},ae=(0,x.useRouter)();(0,d.useEffect)((function(){v.Z.get("/api/fo/send/reservation/message/price").then((function(e){B(null===e||void 0===e?void 0:e.toLocaleString())}))}),[se]),(0,d.useEffect)((function(){te(1)}),[Z,_,k,H]);var ie=function(){var e=(0,s.Z)((function(e){return(0,r.__generator)(this,(function(t){switch(t.label){case 0:return[4,v.Z.put("/api/fo/send/reservation/message",{msgGrpNo:Q,rsvDtt:(0,l.Z)(e,"yyyy-MM-dd")+"T"+(0,l.Z)(e,"HH:mm")+":00.000Z"}).then((function(e){if(e.error){var t={message:e.error,btn:[{name:"\ud655\uc778",css:"bg-primary"}]};window.AlertInfo(t)}else(0,g.JG)(ne),Y(!1)})).catch((function(e){}))];case 1:return t.sent(),[2]}}))}));return function(t){return e.apply(this,arguments)}}();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.AU,{pageInfo:w,children:(0,a.jsxs)("div",{className:"cont",children:[(0,a.jsxs)("p",{className:"info",children:["* \uc608\uc57d\ucde8\uc18c\ub294 \ud604\uc7ac \uc2dc\uac04 10\ubd84 \uc774\ud6c4 \uc608\uc57d\uac74\ubd80\ud130 \uac00\ub2a5\ud569\ub2c8\ub2e4.",(0,a.jsx)("br",{}),"* \uc794\uc5ec \uae08\uc561\uc740 \ucda9\uc804\uae08\uc5d0\uc11c \uc608\uc57d \ubc1c\uc1a1 \uc608\uc815\uae08\uc561\uc744 \ucc28\uac10\ud55c \uae08\uc561\uc785\ub2c8\ub2e4. \uc608\uc57d \ucde8\uc18c \uc2dc, \ud574\ub2f9 \uae08\uc561\uc740 \uc790\ub3d9 \uc7ac\ucda9\uc804\ub429\ub2c8\ub2e4."]}),(0,a.jsx)("div",{className:"bg-gray-200 d-flex",children:(0,a.jsxs)("p",{className:"bold",children:["\ud604\uc7ac \uc608\uc57d\ub41c \ubc1c\uc1a1\uc758 \uc608\uc0c1 \ucc28\uac10\uae08\uc561\uc740 ",(0,a.jsxs)("span",{className:"txt-primary",children:[K,"\uc6d0"]})," \uc785\ub2c8\ub2e4."]})}),(0,a.jsxs)("div",{className:"img-grp",children:[(0,a.jsx)("div",{className:"img-icon1"}),(0,a.jsx)("div",{className:"img-icon2"}),(0,a.jsx)("div",{className:"img-icon3"})]}),(0,a.jsxs)("div",{className:"sch-box d-flex mb-0 bt-0",children:[(0,a.jsxs)("dl",{className:"d-flex",children:[(0,a.jsx)("dt",{children:"\uc720\ud615"}),(0,a.jsx)(c.jL,{current:Z,setSelect:D,list:y,tag:"dd",addClass:"mw-auto"}),(0,a.jsx)(i.fU,{props:re,title:"\uc608\uc57d \uc77c\uc2dc",customProps:{minDate:(0,m.Z)(new Date,12)}}),(0,a.jsx)("dt",{className:"hidden",children:"\uac80\uc0c9"}),(0,a.jsxs)("dd",{className:"sch-input",style:{width:"320px"},children:[(0,a.jsx)("input",{type:"text",placeholder:"\uc81c\ubaa9 \ub610\ub294 \ub0b4\uc6a9 \uac80\uc0c9",value:I,onChange:function(e){return T(e.target.value)}}),(0,a.jsx)("button",{className:"ico ico-search",onClick:function(){L(I),te(1)},children:"\uac80\uc0c9"})]})]}),(0,a.jsx)("div",{className:"right",children:(0,a.jsx)("button",{className:"btn btn-sm2 bg-gray-800 txt-white",onClick:function(){D("\uc804\uccb4"),U(!0),L(""),T("")},children:"\ud544\ud130\ucd08\uae30\ud654"})})]}),(0,a.jsxs)("div",{className:"count-box box-margin",children:[(0,a.jsxs)("div",{className:"total-count",children:["\ucd1d : ",null===se||void 0===se||null===(n=se.totalCount)||void 0===n?void 0:n.toLocaleString()," \uac74"]}),(null===se||void 0===se?void 0:se.totalCount)>0&&(0,a.jsx)("div",{className:"info",children:(0,a.jsx)("span",{children:"10\ub9cc\uac74 \ucd08\uacfc\uc778 \uacbd\uc6b0 \uc5d1\uc140 \ub2e4\uc6b4\ub85c\ub4dc\uac00 \ubd88\uac00\ud569\ub2c8\ub2e4. \uace0\uac1d\uc13c\ud130 \ubb38\uc758\ub97c \ud1b5\ud574 \uc81c\uacf5 \ubc1b\uc73c\uc2e4 \uc218 \uc788\uc2b5\ub2c8\ub2e4."})})]}),(0,a.jsxs)("div",{className:"table-wrap",children:[(0,a.jsxs)("table",{className:"check-box-wrap center v-middle",children:[(0,a.jsxs)("colgroup",{children:[(0,a.jsx)("col",{width:"7%"}),(0,a.jsx)("col",{}),(0,a.jsx)("col",{width:"12%"}),(0,a.jsx)("col",{width:"12%"}),(0,a.jsx)("col",{}),(0,a.jsx)("col",{width:"12%"}),(0,a.jsx)("col",{width:"9%"}),(0,a.jsx)("col",{width:"9%"})]}),(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"\uc720\ud615"}),(0,a.jsx)("th",{children:"\ub0b4\uc6a9"}),(0,a.jsx)("th",{children:"\ubc1c\uc2e0\ubc88\ud638"}),(0,a.jsx)("th",{children:"\ubc1c\uc1a1\uc608\uc815\uac74\uc218"}),(0,a.jsx)("th",{children:"\uc694\uccad \uc77c\uc2dc"}),(0,a.jsx)("th",{children:"\ubc1c\uc1a1\uc608\uc815\uc77c\uc2dc"}),(0,a.jsx)("th",{children:"\uc608\uc57d\uc2dc\uac04 \uc218\uc815"}),(0,a.jsx)("th",{children:"\uc608\uc57d\ucde8\uc18c"})]})}),se&&(0,a.jsx)("tbody",{children:null===se||void 0===se||null===(p=se.result)||void 0===p?void 0:p.map((function(e){return(0,a.jsxs)("tr",{onClick:function(){ae.push({pathname:"/manage/reserve/detail",query:{no:e.msgGrpNo}})},children:[(0,a.jsx)("td",{children:e.svcKndCdNm}),(0,a.jsx)("td",{children:(0,a.jsx)("span",{className:"text-overflow",style:{maxWidth:200},children:e.msgCotn})}),(0,a.jsx)("td",{children:(0,j.kA)(e.snPhnum)}),(0,a.jsx)("td",{children:e.sndCnt}),(0,a.jsx)("td",{className:"date",children:(0,l.Z)(new Date(e.regDtt),"yyyy-MM-dd HH:mm")}),(0,a.jsx)("td",{className:"date",children:(0,l.Z)(new Date(e.rsvDtt),"yyyy-MM-dd HH:mm")}),(0,a.jsx)("td",{children:(0,a.jsx)("button",{className:"btn btn-xs",onClick:function(t){t.stopPropagation(),V(e.msgGrpNo),z(new Date(e.rsvDtt)),Y(!0)},children:"\uc218\uc815"})}),(0,a.jsx)("td",{children:(0,a.jsx)("button",{className:"btn btn-xs",onClick:function(t){t.stopPropagation(),function(e,t){var n=function(){var t=(0,s.Z)((function(){return(0,r.__generator)(this,(function(t){switch(t.label){case 0:return[4,v.Z.delete("/api/fo/send/reservation/message/"+e).then((function(e){if(e.error){var t={message:e.error,btn:[{name:"\ud655\uc778",css:"bg-primary"}]};window.AlertInfo(t)}else(0,g.JG)(ne),ae.push("/manage/reserve")})).catch((function(e){}))];case 1:return t.sent(),[2]}}))}));return function(){return t.apply(this,arguments)}}(),a=(0,u.Z)(new Date,(0,h.Z)(new Date(t),10)),i={message:a?"\uc608\uc57d \ubc1c\uc1a1\uac74\uc744 \ucde8\uc18c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?</br>\ucde8\uc18c \uc2dc \uc608\uc57d\ubaa9\ub85d\uc5d0\uc11c \uc0ad\uc81c\ub418\uba70 \ubcf5\uad6c\uac00 \ubd88\uac00\ub2a5\ud569\ub2c8\ub2e4.":"\ubc1c\uc1a1 \uc608\uc815 \uc77c\uc2dc 10\ubd84 \uc804\uc5d0\ub294 \uc608\uc57d\uc744 \ucde8\uc18c \ubc0f \uc218\uc815 \ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.",btn:a?[{name:"\ucde8\uc18c",css:"bg-dark"},{name:"\ud655\uc778",action:n,css:"bg-primary"}]:[{name:"\ud655\uc778",css:"bg-primary"}]};window.AlertInfo(i)}(e.msgGrpNo,e.rsvDtt)},children:"\uc608\uc57d\ucde8\uc18c"})})]},e.msgGrpNo)}))})]}),0===(null===se||void 0===se?void 0:se.totalCount)?(0,a.jsx)("div",{className:"empty",children:"\uc544\uc27d\uac8c\ub3c4 \uc870\uac74\uc5d0 \ub9de\ub294 \uac80\uc0c9 \uacb0\uacfc\ub97c \ucc3e\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4."}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.tl,{index:ee,setIndex:te,offset:20,total:null===se||void 0===se?void 0:se.totalCount}),(0,a.jsxs)("div",{className:"btn-wrap d-flex",children:[(0,a.jsx)("div",{className:"left"}),(0,a.jsx)("button",{className:"btn btn-sm2 outline-green-light txt-green-light",onClick:function(){se.totalCount>1e5?window.AlertInfo({message:"\ucd1d \ub0b4\uc5ed\uc774 10\ub9cc\uac74 \ucd08\uacfc\uc778 \uacbd\uc6b0 \uc5d1\uc140 \ub2e4\uc6b4\ub85c\ub4dc\uac00 \ubd88\uac00\ud569\ub2c8\ub2e4.<br />\uace0\uac1d\uc13c\ud130\ub85c \ubb38\uc758\ud558\uc2dc\uba74 \ud544\uc694\ud55c \ub0b4\uc5ed\uc744 \uc81c\uacf5\ud574 \ub4dc\ub9bd\ub2c8\ub2e4."}):v.Z.get("/api/fo/send/reservation/message/excel?svcKndCd=".concat((0,j.o6)(y,Z),"&keyword=").concat(encodeURIComponent(H),"&regBeginDate=").concat((0,l.Z)(_,"yyyy-MM-dd"),"&regEndDate=").concat((0,l.Z)(k,"yyyy-MM-dd"))).then((function(e){if(null===e||void 0===e?void 0:e.error){if(e.error){var t={message:e.error,btn:[{name:"\ud655\uc778",css:"bg-primary"}]};window.AlertInfo(t)}}else{var n=e.split("/");b()({url:"https://d151tt5xjnbqzy.cloudfront.net"+e,method:"GET",responseType:"blob"}).then((function(e){var t=window.URL.createObjectURL(new Blob([e.data])),s=document.createElement("a");s.href=t,s.setAttribute("download",n.pop()),document.body.appendChild(s),s.click()}))}}))},children:"\uc5d1\uc140 \ub2e4\uc6b4\ub85c\ub4dc"})]})]})]})]})}),(0,a.jsx)(o.Z,{show:X,onClose:function(){return Y(!1)},info:{title:"\uc608\uc57d\uc2dc\uac04 \uc218\uc815",id:"dateTimeModal",size:"date-modal"},datetime:q,setDatetime:z,handler:ie,btnConfirmLabel:"\uc218\uc815",moreInfo:"\uc608\uc57d \ubc1c\uc1a1 \uc77c\uc2dc\ub294 \ud604\uc7ac\ub97c \uae30\uc900\uc73c\ub85c<br /> 10\ubd84 \ud6c4\ubd80\ud130 \ucd5c\ub300 30\uc77c \uc774\ud6c4\uae4c\uc9c0 \uc124\uc815\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.<br /><br />"})]})}}},function(e){e.O(0,[5040,9774,2888,179],(function(){return t=42517,e(e.s=t);var t}));var t=e.O();_N_E=t}]);