(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8172],{93645:function(e,n,t){"use strict";t.d(n,{u:function(){return l}});var s={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}};function l(e){return e?s[e]:s.trunc}},36948:function(e,n,t){"use strict";t.d(n,{vh:function(){return l},yJ:function(){return s}});Math.pow(10,8);var s=6e4,l=36e5},59910:function(e,n,t){"use strict";t.d(n,{Z:function(){return i}});var s=t(19013),l=t(13882);function i(e,n){return(0,l.Z)(2,arguments),(0,s.Z)(e).getTime()-(0,s.Z)(n).getTime()}},69690:function(e,n,t){"use strict";t.d(n,{Z:function(){return r}});var s=t(36948),l=t(59910),i=t(13882),a=t(93645);function r(e,n,t){(0,i.Z)(2,arguments);var r=(0,l.Z)(e,n)/s.yJ;return(0,a.u)(null===t||void 0===t?void 0:t.roundingMethod)(r)}},94086:function(e,n,t){"use strict";t.d(n,{T:function(){return d}});var s=t(40872),l=t(26042),i=t(85893),a=t(25675),r=t.n(a),c=t(25482),o=t.n(c),d=function(e){var n=(0,s.Z)({},e);return(0,i.jsx)("div",{className:o().imageContainer,children:(0,i.jsx)(r(),(0,l.Z)({className:o().autoheight,layout:"fill",src:n.src,alt:n.alt},n))})}},10279:function(e,n,t){"use strict";t.d(n,{Z:function(){return s.Z}});var s=t(96933)},19957:function(e,n,t){"use strict";t.d(n,{hP:function(){return L},SE:function(){return p},_K:function(){return N},iB:function(){return S},Yh:function(){return C},w3:function(){return D},qL:function(){return I},C4:function(){return H}});var s=t(47568),l=t(14924),i=t(26042),a=t(69396),r=t(29815),c=t(70655),o=t(85893),d=t(35621),u=t(88674),m=t(67294),h=t(84105),f=t(45945),v=t(70827),x=t(96486),p=function(e){var n=e.show,t=e.onClose,p=e.info,j=e.serviceType,b=e.handler,g=e.variables,N=e.isReload,y=e.setReload,w=(0,m.useState)(!1),S=w[0],C=w[1],k=(0,m.useState)(!1),T=k[0],_=k[1],Z=(0,m.useState)([]),A=Z[0],M=Z[1],E=(0,m.useState)([]),F=E[0],I=E[1],K=(0,m.useState)(new Set),L=K[0],D=K[1],B=(0,m.useState)([{columnKey:"NO",direction:"ASC"}]),P=B[0],G=B[1],O=(0,m.useState)("SLM"===j?"message":"TKA"===j?"talk":"talk_friend")[0],R=(0,m.useRef)(0),z=(0,m.useCallback)((function(){M(T?function(e){return(0,r.Z)(e).concat([{key:"\uc0c1\ud0dc",name:"\uc0c1\ud0dc",sortable:!0,width:120}])}:function(e){var n;return"\uc0c1\ud0dc"===(null===(n=e[e.length-1])||void 0===n?void 0:n.key)?e.slice(0,e.length-1):e})}),[T]),H=(0,m.useCallback)((function(){var e;return null===(e=F.filter((function(e){return!!T&&"\uc815\uc0c1"!==e["\uc0c1\ud0dc"]})))||void 0===e?void 0:e.length}),[T,F]);(0,m.useEffect)((function(){n&&(_(!1),D(new Set),G([{columnKey:"NO",direction:"ASC"}]))}),[n]),(0,m.useEffect)((function(){N&&(I([]),R.current=0,y(!1))}),[N,y]),(0,m.useEffect)((function(){var e=[(0,i.Z)({},f.F_)];"SLM"===j||"TKF"===j?e=(0,r.Z)(e).concat([{key:"NO",name:"NO",width:15},{key:"\uc218\uc2e0\ubc88\ud638",name:"\uc218\uc2e0\ubc88\ud638",width:120},{key:"#{\uc774\ub984}",name:"#{\uc774\ub984}"},{key:"#{1}",name:"#{1}"},{key:"#{2}",name:"#{2}"},{key:"#{3}",name:"#{3}"},{key:"#{4}",name:"#{4}"}]):"TKA"===j&&(e=(0,r.Z)(e).concat([{key:"NO",name:"NO",width:30},{key:"\uc218\uc2e0\ubc88\ud638",name:"\uc218\uc2e0\ubc88\ud638"}],(0,r.Z)(g&&g.map((function(e){return{key:"#{".concat(e,"}"),name:"#{".concat(e,"}")}}))))),M(e)}),[j,g]),(0,m.useEffect)((function(){z()}),[T,z]),(0,m.useLayoutEffect)((function(){if(n&&S){if(H()>0)window.AlertInfo({message:"\uc624\ub958 \uac74\uc774 \uc788\uc2b5\ub2c8\ub2e4. \uc218\uc815 \ub610\ub294 \uc624\ub958 \uc0ad\uc81c \ud6c4 \ub4f1\ub85d \ubd80\ud0c1\ub4dc\ub9bd\ub2c8\ub2e4."});else if(0===F.length)b(null,0),t();else{window.loadingbar(!0),(0,u.gw)(100).then((function(){new Promise((function(e,n){var t=(0,x.cloneDeep)(F);t[0]="TKA"===j?(0,i.Z)({NO:t[0].NO,"\ud734\ub300\ud3f0\ubc88\ud638":t[0]["\ud734\ub300\ud3f0\ubc88\ud638"]},g[0]&&(0,l.Z)({},"#{".concat(g[0],"}"),t[0]["#{".concat(g[0],"}")]),g[1]&&(0,l.Z)({},"#{".concat(g[1],"}"),t[0]["#{".concat(g[1],"}")]),g[2]&&(0,l.Z)({},"#{".concat(g[2],"}"),t[0]["#{".concat(g[2],"}")]),g[3]&&(0,l.Z)({},"#{".concat(g[3],"}"),t[0]["#{".concat(g[3],"}")]),g[4]&&(0,l.Z)({},"#{".concat(g[4],"}"),t[0]["#{".concat(g[4],"}")])):{NO:t[0].NO,"\ud734\ub300\ud3f0\ubc88\ud638":t[0]["\ud734\ub300\ud3f0\ubc88\ud638"],"#{\uc774\ub984}":t[0]["#{\uc774\ub984}"],"#{1}":t[0]["#{1}"],"#{2}":t[0]["#{2}"],"#{3}":t[0]["#{3}"],"#{4}":t[0]["#{4}"]},t.forEach((function(e){delete e[void 0],delete e["\uc0c1\ud0dc"],"TKA"===j&&(delete e["#{1}"],delete e["#{2}"],delete e["#{3}"],delete e["#{4}"],delete e["#{5}"])}));var s=h.P6.json_to_sheet(t),a=h.P6.book_new();h.P6.book_append_sheet(a,s,"Export");var r=h.cW(a,{bookType:"xlsx",type:"array",compression:!0}),c=new FormData;c.append("file",new File([r],"receiver_file_insert.xlsx")),e(c)})).then((function(e){t(),b(e,F.length),window.loadingbar(!1)}))}))}C(!1)}}),[S,H,t,F,n,b,j,g]);var V=function(){var e=(0,s.Z)((function(e){var n,t,l;return(0,c.__generator)(this,(function(i){return G([{columnKey:"NO",direction:"ASC"}]),_(!1),(t=null===(n=e.target.files)||void 0===n?void 0:n.item(0))?(e.target.value="",!(0,u.sT)(t.name,["xlsx"])||t.size>5e7?(window.AlertInfo({message:"\ud30c\uc77c \ubd88\ub7ec\uc624\uae30\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.<br />\ubd88\ub7ec\uc624\uae30 \uac00\ub2a5\ud55c \ud30c\uc77c\uc758 \ud655\uc7a5\uc790\ub294 xlsx\uc774\uba70<br />\ucd5c\ub300 50MB\uae4c\uc9c0 \ucca8\ubd80 \uac00\ub2a5\ud569\ub2c8\ub2e4."}),[2]):(l=function(){return new Promise((function(e,n){var l=new FileReader;l.onload=(0,s.Z)((function(){var n,t,s,i,a,o,d,u,m,f,v,p,b;return(0,c.__generator)(this,(function(c){n=new Uint8Array(l.result),t=h.ij(n),s=h.P6.sheet_to_json(t.Sheets[t.SheetNames[0]],{header:1}).slice(1),i=s.slice(1).filter((function(e){return!(0,x.isEmpty)(e)})),s=[s[0]].concat((0,r.Z)(i)),i.length>2e5&&(window.AlertInfo({message:"\ucd5c\ub300 \uac74\uc218(20\ub9cc \uac74)\ub97c \ucd08\uacfc\ud588\uc2b5\ub2c8\ub2e4.<br />\ucd08\uacfc\ub41c \ud589\uc740 \ubd88\ub7ec\uc624\uae30\uc5d0\uc11c \uc81c\uc678\ub429\ub2c8\ub2e4."}),s=s.slice(0,200001)),a=[],o=new Set(s[0]),d=A.map((function(e){return e.key})),o.delete("NO"),o.delete("\ud734\ub300\ud3f0\ubc88\ud638"),o.delete(void 0),u=!0,m=!1,f=void 0;try{for(v=o[Symbol.iterator]();!(u=(p=v.next()).done);u=!0)b=p.value,d.includes(b)||a.push(b)}catch(g){m=!0,f=g}finally{try{u||null==v.return||v.return()}finally{if(m)throw f}}return"TKA"===j&&a.length>0&&window.AlertInfo({message:"\ud15c\ud50c\ub9bf\uc5d0 \uc5c6\ub294 \ubcc0\uc218\uba85 ".concat(a.join(", "),"\uc774 \uc788\uc2b5\ub2c8\ub2e4.<br />\ubcc0\uc218\uba85\uc744 \ud655\uc778\ud574\uc8fc\uc138\uc694.")}),s[0].unshift("NO"),s.slice(1).map((function(e){return R.current+=1,e.unshift(R.current)})),I((0,r.Z)(F).concat((0,r.Z)(s.slice(1).map((function(e){return e.reduce((function(e,n,t){return e[s[0][t]]=1===t?n.replaceAll("-",""):n,e}),{})}))))),_(!1),e(),[2]}))})),l.readAsArrayBuffer(t)}))},window.loadingbar(!0),(0,u.gw)(100).then((function(){l().then((function(e){window.loadingbar(!1)}))})),[2])):[2]}))}));return function(n){return e.apply(this,arguments)}}(),W=function(e){for(var n=0,t=e.length;n<t;n++)v.RE.test(e[n]["\ud734\ub300\ud3f0\ubc88\ud638"])||v._i.test(e[n]["\ud734\ub300\ud3f0\ubc88\ud638"])?e[n]["\uc0c1\ud0dc"]="\uc815\uc0c1":e[n]["\uc0c1\ud0dc"]="\ubc88\ud638\uc624\ub958";for(var s=0,l=e.length;s<l;s++)if("SLM"===j)((0,u.Am)(e[s]["#{\uc774\ub984}"])>10||(0,u.Am)(e[s]["#{1}"])>20||(0,u.Am)(e[s]["#{2}"])>20||(0,u.Am)(e[s]["#{3}"])>40||(0,u.Am)(e[s]["#{4}"])>100)&&(e[s]["\uc0c1\ud0dc"]="\ubcc0\uc218\uc624\ub958");else if("TKA"===j){var i,a,c,o,d;((null===(i=e[s]["#{1}"])||void 0===i?void 0:i.length)>30||(null===(a=e[s]["#{2}"])||void 0===a?void 0:a.length)>30||(null===(c=e[s]["#{3}"])||void 0===c?void 0:c.length)>50||(null===(o=e[s]["#{4}"])||void 0===o?void 0:o.length)>50||(null===(d=e[s]["#{5}"])||void 0===d?void 0:d.length)>50)&&(e[s]["\uc0c1\ud0dc"]="\ubcc0\uc218\uc624\ub958")}else{var m,h,f,x,p;((null===(m=e[s]["#{\uc774\ub984}"])||void 0===m?void 0:m.length)>30||(null===(h=e[s]["#{1}"])||void 0===h?void 0:h.length)>30||(null===(f=e[s]["#{2}"])||void 0===f?void 0:f.length)>30||(null===(x=e[s]["#{3}"])||void 0===x?void 0:x.length)>50||(null===(p=e[s]["#{4}"])||void 0===p?void 0:p.length)>50)&&(e[s]["\uc0c1\ud0dc"]="\ubcc0\uc218\uc624\ub958")}for(var b=e.map((function(e){var n;return null===(n=e["\ud734\ub300\ud3f0\ubc88\ud638"])||void 0===n?void 0:n.replaceAll("-","")})),g=(0,r.Z)(new Set(b)),N=0,y=0,w=b.length;y<w;y++)b[y]!==g[N]&&(e[y]["\uc0c1\ud0dc"]="\ubc88\ud638\uc911\ubcf5",N--),N++;return e},J=(0,m.useMemo)((function(){var e=function(e){if("\uc0c1\ud0dc"===e)return function(n,t){return n[e]&&n[e].localeCompare(t[e])};if("NO"===e)return function(n,t){return n[e]-t[e]};throw new Error('unsupported sortColumn: "'.concat(e,'"'))};return 0===P.length?F:(0,r.Z)(F).sort((function(n,t){var s=!0,l=!1,i=void 0;try{for(var a,r=P[Symbol.iterator]();!(s=(a=r.next()).done);s=!0){var c=a.value,o=e(c.columnKey)(n,t);if(0!==o)return"ASC"===c.direction?o:-o}}catch(d){l=!0,i=d}finally{try{s||null==r.return||r.return()}finally{if(l)throw i}}return 0}))}),[F,P]);return p.btn=[{name:"\ucde8\uc18c",action:t,css:"bg-dark"},{name:"\ucd94\uac00",action:function(){_(!0),G([{columnKey:"\uc0c1\ud0dc",direction:"ASC"}]);var e=W((0,x.cloneDeep)(F));I(e),C(!0)},css:"bg-primary"}],(0,o.jsx)(d.Z,{show:n,onClose:t,info:p,children:(0,o.jsxs)("div",{className:"modal-body receive-wrap",children:[(0,o.jsxs)("div",{className:"receive-top",children:["TKA"===j&&(0,o.jsx)("div",{className:"str",children:"\ud15c\ud50c\ub9bf\uc5d0 \ub9de\uac8c \ubcc0\uc218\uba85\uc744 \uc218\uc815\ud574\uc8fc\uc138\uc694."}),(0,o.jsxs)("p",{children:["\ubd88\ub7ec\uc624\uae30 \uac00\ub2a5\ud55c \ud30c\uc77c \ud615\uc2dd\uc740 xlsx \uc785\ub2c8\ub2e4. (\ucd5c\ub300 20\ub9cc\uac74)",(0,o.jsx)("br",{}),"SLM"===j?"\ubcc0\uc218 \ucd5c\ub300 \uc785\ub825 \uac00\ub2a5 \uae38\uc774\ub294 #{\uc774\ub984} 10 byte, #{1~2} 20 byte, #{3} 40 byte, #{4} 100 byte \uc785\ub2c8\ub2e4.":"TKA"===j?"\ubcc0\uc218 \ucd5c\ub300 \uc785\ub825 \uac00\ub2a5 \uae38\uc774\ub294 #{1~2} 30\uc790, #{3~5} 50\uc790 \uc785\ub2c8\ub2e4.":"TKF"===j?"\ubcc0\uc218 \ucd5c\ub300 \uc785\ub825 \uac00\ub2a5 \uae38\uc774\ub294 #{\uc774\ub984} 30\uc790, #{1~2} 30\uc790, #{3~4} 50\uc790 \uc785\ub2c8\ub2e4.":void 0]}),(0,o.jsx)("a",{className:"link",rel:"noopener noreferrer",href:"https://fo.aimegazone.com"+"/public/doc/".concat(O,"_sample.xlsx"),children:"\uc0d8\ud50c\ud30c\uc77c \ub2e4\uc6b4\ub85c\ub4dc"}),(0,o.jsxs)("div",{className:"box",children:[(0,o.jsxs)("div",{className:"color-box",children:[(0,o.jsxs)("span",{className:"bg-gray-200 txt-gray-900",children:["\ubd88\ub7ec\uc628 \uc218\uc2e0\ubc88\ud638: ",F.length,"\uac74"]}),(0,o.jsxs)("span",{className:"bg-blue-light txt-white",children:["\uc815\uc0c1 \ubc88\ud638: ",F.length-H(),"\uac74"]}),(0,o.jsxs)("span",{className:"bg-red-light txt-gray-900",children:["\uc624\ub958 \ubc88\ud638: ",H(),"\uac74"]})]}),(0,o.jsx)("input",{type:"file",id:"loadFile",onChange:V}),(0,o.jsx)("label",{htmlFor:"loadFile",className:"btn btn-sm outline-dark",type:"button",children:"\ud30c\uc77c \ubd88\ub7ec\uc624\uae30"})]})]}),(0,o.jsxs)("div",{className:"table-wrap center",children:[(0,o.jsx)("h4",{children:"\ubd88\ub7ec\uc628 \uc218\uc2e0\ubc88\ud638"}),(0,o.jsx)("div",{id:"WrapDataGrid",children:(0,o.jsx)(f.ZP,{className:"rdg-light",columns:A,rows:J,rowKeyGetter:function(e){return e.NO},selectedRows:L,onSelectedRowsChange:D,rowClass:function(e){return T&&e["\uc0c1\ud0dc"]&&"\uc815\uc0c1"!==e["\uc0c1\ud0dc"]?"receive-error":""},renderers:{rowRenderer:function(e,n){var t,s=(0,a.Z)((0,i.Z)({},n.row),{"\uc218\uc2e0\ubc88\ud638":null===(t=null===n||void 0===n?void 0:n.row["\ud734\ub300\ud3f0\ubc88\ud638"])||void 0===t?void 0:t.toString().replace(/(\d{3})(\d{3,4})(\d{4})/g,"$1-$2-$3")});return(0,o.jsx)(m.Fragment,{children:(0,o.jsx)(f.X2,(0,a.Z)((0,i.Z)({},n),{row:s}))},e)}},sortColumns:P,onSortColumnsChange:G})}),(0,o.jsxs)("div",{className:"btn-wrap d-flex",children:[(0,o.jsxs)("div",{className:"left",children:[(0,o.jsx)("button",{className:"btn btn-sm outline-dark",onClick:function(){return function(){R.current=0;var e=F.filter((function(e){return!L.has(e.NO)})).map((function(e){return(0,a.Z)((0,i.Z)({},e),{NO:++R.current})}));I(e),D(new Set),C(!1)}()},children:"\uc0ad\uc81c"}),(0,o.jsx)("button",{className:"btn btn-sm outline-dark",onClick:function(){return R.current=0,I([]),D(new Set),void C(!1)},children:"\uc804\uccb4\uc0ad\uc81c"})]}),(0,o.jsxs)("div",{className:"right",children:[(0,o.jsx)("button",{className:"btn btn-sm outline-dark",onClick:function(){return function(){_(!0),G([{columnKey:"\uc0c1\ud0dc",direction:"ASC"}]);var e=W((0,x.cloneDeep)(F));I(e),C(!1)}()},children:"\uc624\ub958\uac80\uc0ac"}),H()>0&&(0,o.jsx)("button",{className:"btn btn-sm outline-dark",onClick:function(){return function(){R.current=0;var e=F.filter((function(e){return"\uc815\uc0c1"===e["\uc0c1\ud0dc"]})).map((function(e){return(0,a.Z)((0,i.Z)({},e),{NO:++R.current})}));I(e),C(!1)}()},children:"\uc624\ub958\uc0ad\uc81c"})]})]})]})]})})},j=t(46834),b=t(63926),g=t(8100),N=function(e){var n,t=e.show,s=e.onClose,l=e.info,i=e.onSelect,a=e.serviceType,r=e.channelId,c=e.reloadTemplates,u=e.setReloadTemplates,h=(0,m.useState)(""),f=h[0],v=h[1],x=(0,m.useState)(""),p=x[0],N=x[1];"TKA"===a?n=r&&"/api/fo/send/kakao/template/".concat(r,"?").concat(f?"keyword="+f:""):"TKF"===a&&(n="/api/fo/send/friend/template?".concat(f?"keyword="+f:""));var y=(0,j.s)(n).data;(0,m.useEffect)((function(){t&&(N(""),v(""))}),[t]),(0,m.useEffect)((function(){c&&((0,g.JG)(n),u(!1))}),[c,u,n]);return l.btn=[{name:"\ub2eb\uae30",action:s,css:"bg-dark"}],(0,o.jsx)(d.Z,{show:t,onClose:s,info:l,children:(0,o.jsx)("div",{className:"modal-body",children:(0,o.jsxs)("div",{className:"table-wrap center",children:[(0,o.jsxs)("div",{className:"sch-input w-100",children:[(0,o.jsx)("input",{type:"text",placeholder:"\ud15c\ud50c\ub9bf \uc81c\ubaa9, \ub0b4\uc6a9\uc73c\ub85c \uac80\uc0c9\ud574\uc8fc\uc138\uc694",value:p,onChange:function(e){return N(e.target.value)}}),(0,o.jsx)("button",{className:"ico ico-search",onClick:function(){v(p)},children:"\uac80\uc0c9"})]}),(0,o.jsxs)("table",{children:[(0,o.jsxs)("colgroup",{children:[(0,o.jsx)("col",{width:"25%"}),"TKF"!==a&&(0,o.jsx)("col",{width:"15%"}),(0,o.jsx)("col",{}),(0,o.jsx)("col",{width:"15%"})]}),(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:"\ud15c\ud50c\ub9bf \uc81c\ubaa9"}),"TKA"===a?(0,o.jsx)("th",{children:"\ud15c\ud50c\ub9bf ID"}):"",(0,o.jsx)("th",{children:"\ub0b4\uc6a9"}),(0,o.jsx)("th",{children:"\ub4f1\ub85d\uc77c"})]})}),(0,o.jsx)("tbody",{className:"no-line",children:null===y||void 0===y?void 0:y.map((function(e){return(0,o.jsxs)("tr",{onClick:function(){return function(e){i(e),s()}(e)},children:[(0,o.jsx)("td",{children:(0,o.jsx)("div",{className:"text-overflow",style:{maxWidth:"180px"},children:e.tmplTtl})}),"TKA"===a?(0,o.jsx)("td",{children:e.tmplId}):"",(0,o.jsx)("td",{className:"al-left",children:(0,o.jsx)("div",{className:"text-overflow",style:{maxWidth:"TKF"===a?"500px":"400px"},children:e.tmplCotn})}),(0,o.jsx)("td",{className:"date",children:(0,b.Z)(new Date(e.modDtt),"yyyy-MM-dd")})]},e.tmplId)}))})]}),0===(null===y||void 0===y?void 0:y.length)&&(0,o.jsx)("div",{className:"empty",children:""===f?"\uc544\uc9c1 \uc791\uc131\ud55c \ud15c\ud50c\ub9bf\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.":"\uc544\uc27d\uac8c\ub3c4 \uc870\uac74\uc5d0 \ub9de\ub294 \uac80\uc0c9 \uacb0\uacfc\ub97c \ucc3e\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4."})]})})})},y=t(9824),w=t(11163),S=function(e){var n=e.show,t=e.onClose,s=e.info,l=e.handler,i=e.sendData,a=e.receiverCount,r=(0,w.useRouter)(),c=(0,y.aF)().user,u=(0,m.useState)(0),h=u[0],f=u[1],v=(0,m.useState)(!1),x=v[0],p=v[1],g=(0,j.s)("/api/fo/send/message/price").data,N=(0,m.useCallback)((function(){return a*h}),[h,a]),S=(0,m.useCallback)((function(){return((null===c||void 0===c?void 0:c.amt)||0)+((null===c||void 0===c?void 0:c.point)||0)-N()}),[N,null===c||void 0===c?void 0:c.amt,null===c||void 0===c?void 0:c.point]);(0,m.useEffect)((function(){S()<0?p(!0):p(!1)}),[c,i,h,S]),(0,m.useEffect)((function(){n&&f("SMS"===(null===i||void 0===i?void 0:i.messageType)?g.smsPrice:"LMS"===(null===i||void 0===i?void 0:i.messageType)?g.lmsPrice:g.mmsPrice)}),[n,i,g]);return s.btn=[{name:"\ucde8\uc18c",action:function(){return t()},css:"bg-dark"},x?{name:"\ucda9\uc804\ud558\uae30",action:function(){return t(),void r.push("/manage/charge")},css:"bg-primary"}:{name:"\ubc1c\uc1a1\ud558\uae30",action:function(){return l(),void t()},css:"bg-primary"}],(0,o.jsx)(d.Z,{show:n,onClose:t,info:s,children:(0,o.jsx)("div",{className:"modal-body w-100",children:(0,o.jsxs)("div",{className:"send-box ".concat(x?"lack":""),children:[(0,o.jsx)("p",{className:"label",children:"\uba54\uc2dc\uc9c0\ub97c \ubc1c\uc1a1\ud558\uc2dc\uaca0\uc5b4\uc694?"}),(0,o.jsxs)("dl",{children:[(0,o.jsx)("dt",{children:"\uba54\uc2dc\uc9c0 \uc720\ud615"}),(0,o.jsx)("dd",{children:null===i||void 0===i?void 0:i.messageType}),(0,o.jsx)("dt",{children:"\uc694\uae08"}),(0,o.jsxs)("dd",{children:[h,"\uc6d0"]}),(0,o.jsx)("dt",{children:"\ubc1c\uc1a1 \uc2dc\uac01"}),(0,o.jsxs)("dd",{children:[(null===i||void 0===i?void 0:i.isReserveSend)?(null===i||void 0===i?void 0:i.rsvDtt)&&(0,b.Z)(new Date(null===i||void 0===i?void 0:i.rsvDtt),"yyyy-MM-dd HH:mm"):(0,b.Z)(new Date,"yyyy-MM-dd HH:mm"),(null===i||void 0===i?void 0:i.isReserveSend)&&" (\uc608\uc57d)"]}),(0,o.jsx)("dt",{children:"\uc218\uc2e0\uc790"}),(0,o.jsxs)("dd",{children:[a,"\uba85"]}),(0,o.jsx)("dt",{className:"last",children:"\uc120\ucc28\uac10 \uae08\uc561"}),(0,o.jsxs)("dd",{className:"last",children:[N().toLocaleString(),"\uc6d0"]}),(0,o.jsx)("dt",{className:"hidden",children:"\uc8fc\uc758\uc0ac\ud56d"}),(0,o.jsx)("dd",{className:"info",children:"\ucc28\uac10\uae08\uc561\uc740 \ubaa8\ub4e0 \ubb38\uc790 \ubc1c\uc1a1\uc774 \uc131\uacf5\ud588\ub2e4\ub294 \uac00\uc815 \ud558\uc5d0 \uc0b0\uc815\ub41c \uae08\uc561\uc73c\ub85c \ubc1c\uc1a1 \uc2dc \uc120\ucc28\uac10\ub429\ub2c8\ub2e4. \ubc1c\uc1a1 \uc2e4\ud328\uac74\uc5d0 \ub300\ud55c \uae08\uc561\uc740 \ubc1c\uc1a1 \uc644\ub8cc \ud6c4 \uc790\ub3d9 \uc7ac\ucda9\uc804\ub429\ub2c8\ub2e4."})]}),(0,o.jsxs)("dl",{className:"last price-wrap",children:[(0,o.jsxs)("dt",{children:["\uc794\uc5ec \uae08\uc561",(0,o.jsx)("br",{}),(0,o.jsx)("span",{className:"info txt-white",children:"\ud604\uc7ac \ucda9\uc804\uae08 - \uc120\ucc28\uac10 \uae08\uc561 = \uc794\uc5ec\uae08\uc561"})]}),(0,o.jsx)("dd",{children:(0,o.jsxs)("span",{children:[S().toLocaleString(),"\uc6d0"]})})]}),x?(0,o.jsx)("p",{className:"sub-txt txt-red",children:"* \uc794\uc5ec\uae08\uc561\uc774 \ubd80\uc871\ud574 \ubc1c\uc1a1\uc744 \uc9c4\ud589\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."}):(0,o.jsx)("p",{className:"sub-txt",children:"* \ud3ec\uc778\ud2b8\ubd80\ud130 \uc6b0\uc120 \ucc28\uac10\ub429\ub2c8\ub2e4."})]})})})},C=function(e){var n,t,s,l,i,a=e.show,r=e.onClose,c=e.info,h=e.handler,f=e.sendData,v=e.receiverCount,p=(0,w.useRouter)(),g=(0,y.aF)().user,N=(0,m.useState)(0),S=N[0],C=N[1],k=(0,m.useState)(0),T=k[0],_=k[1],Z=(0,m.useState)(!1),A=Z[0],M=Z[1],E=(0,j.s)("/api/fo/send/message/price").data,F=(0,m.useCallback)((function(){return(0,x.max)([S,T])*v}),[S,v,T]),I=(0,m.useCallback)((function(){return((null===g||void 0===g?void 0:g.amt)||0)+((null===g||void 0===g?void 0:g.point)||0)-F()}),[F,null===g||void 0===g?void 0:g.amt,null===g||void 0===g?void 0:g.point]),K="TKA"===(null===f||void 0===f?void 0:f.svcKndCd)?null===f||void 0===f||null===(n=f.subSms)||void 0===n?void 0:n.content:"(\uad11\uace0) ".concat(null===f||void 0===f||null===(t=f.subSms)||void 0===t?void 0:t.name,"\n\n").concat(null===f||void 0===f||null===(s=f.subSms)||void 0===s?void 0:s.content,"\n\n\ubb34\ub8cc\uac70\ubd80 080-880-2501\n\uc778\uc99d\ucf54\ub4dc ").concat(null===g||void 0===g?void 0:g.mbIdno);(0,m.useEffect)((function(){I()<0?M(!0):M(!1)}),[g,f,S,I]),(0,m.useEffect)((function(){if(a){var e,n,t=0,s=0,l=0,i=0;if(f.isSubstitution)(null===(e=f.subSms)||void 0===e||null===(n=e.images)||void 0===n?void 0:n.length)>0?(i=E.mmsPrice)>l&&(l=i):(0,u.Am)(K)>90?(i=E.lmsPrice)>l&&(l=i):(i=E.smsPrice)>l&&(l=i);"TKA"===f.svcKndCd?(s=E.tkaPrice)>t&&(t=s):"TKF"===f.svcKndCd?(s=E.tkfPrice)>t&&(t=s):(s=E.tktPrice)>t&&(t=s),C(t),_(l)}}),[a,f,K,E]);return c.btn=[{name:"\ucde8\uc18c",action:function(){return r()},css:"bg-dark"},A?{name:"\ucda9\uc804\ud558\uae30",action:function(){return r(),void p.push("/manage/charge")},css:"bg-primary"}:{name:"\ubc1c\uc1a1\ud558\uae30",action:function(){return r(),void h()},css:"bg-primary"}],(0,o.jsx)(d.Z,{show:a,onClose:r,info:c,children:(0,o.jsx)("div",{className:"modal-body w-100",children:(0,o.jsxs)("div",{className:"send-box ".concat(A?"lack":""),children:[(0,o.jsx)("p",{className:"label",children:"\uba54\uc2dc\uc9c0\ub97c \ubc1c\uc1a1\ud558\uc2dc\uaca0\uc5b4\uc694?"}),(0,o.jsx)("div",{className:"table-wrap",children:(0,o.jsx)("div",{className:"fit-table sm",children:(0,o.jsx)("table",{children:(0,o.jsxs)("tbody",{children:[(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:"\uad6c\ubd84"}),(0,o.jsx)("td",{children:"\uce74\uce74\uc624\ud1a1"}),(null===f||void 0===f?void 0:f.isSubstitution)&&(0,o.jsx)("td",{children:"\ub300\uccb4\ubb38\uc790"})]}),(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:"\uc720\ud615"}),(0,o.jsx)("td",{children:"TKA"===(null===f||void 0===f?void 0:f.svcKndCd)?"\uc54c\ub9bc\ud1a1":"TKF"===(null===f||void 0===f?void 0:f.svcKndCd)?"\uce5c\uad6c\ud1a1(\uc774\ubbf8\uc9c0)":"\uce5c\uad6c\ud1a1(\ud14d\uc2a4\ud2b8)"}),(null===f||void 0===f?void 0:f.isSubstitution)&&(0,o.jsx)("td",{children:(null===f||void 0===f||null===(l=f.subSms)||void 0===l||null===(i=l.images)||void 0===i?void 0:i.length)>0?"MMS":(0,u.Am)(K)>90?"LMS":"SMS"})]}),(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:"\uc694\uae08"}),(0,o.jsxs)("td",{children:[S,"\uc6d0"]}),(null===f||void 0===f?void 0:f.isSubstitution)&&(0,o.jsxs)("td",{children:[T,"\uc6d0"]})]})]})})})}),(0,o.jsxs)("dl",{children:[(0,o.jsx)("dt",{children:"\ubc1c\uc1a1 \uc2dc\uac01"}),(0,o.jsxs)("dd",{children:[(null===f||void 0===f?void 0:f.isReservation)?(null===f||void 0===f?void 0:f.rsvDtt)&&(0,b.Z)(new Date(null===f||void 0===f?void 0:f.rsvDtt),"yyyy-MM-dd HH:mm"):(0,b.Z)(new Date,"yyyy-MM-dd HH:mm"),(null===f||void 0===f?void 0:f.isReservation)&&" (\uc608\uc57d)"]}),(0,o.jsx)("dt",{children:"\uc218\uc2e0\uc790"}),(0,o.jsxs)("dd",{children:[v,"\uba85"]}),(0,o.jsx)("dt",{className:"last",children:"\uc120\ucc28\uac10 \uae08\uc561"}),(0,o.jsxs)("dd",{className:"last",children:[F().toLocaleString(),"\uc6d0"]}),(0,o.jsx)("dt",{className:"hidden",children:"\uc8fc\uc758\uc0ac\ud56d"}),(0,o.jsx)("dd",{className:"info",children:A?"\ucc28\uac10\uae08\uc561\uc740 \ubaa8\ub4e0 \uc54c\ub9bc\ud1a1 \ubc1c\uc1a1\uc774 \uc131\uacf5\ud588\ub2e4\ub294 \uac00\uc815 \ud558\uc5d0 \uc0b0\uc815\ub41c \uae08\uc561\uc73c\ub85c \ubc1c\uc1a1 \uc2dc \uc120\ucc28\uac10\ub429\ub2c8\ub2e4. \ubc1c\uc1a1 \uc2e4\ud328\uac74\uc5d0 \ub300\ud55c \uae08\uc561\uc740 \ubc1c\uc1a1 \uc644\ub8cc \ud6c4 \uc790\ub3d9 \uc7ac\ucda9\uc804\ub429\ub2c8\ub2e4.":T>S?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("span",{children:["TKA"===(null===f||void 0===f?void 0:f.svcKndCd)?"\uc54c\ub9bc\ud1a1":"\uce5c\uad6c\ud1a1"," \uc694\uae08\ubcf4\ub2e4 \ub300\uccb4\ubb38\uc790 \uc694\uae08\uc774 \ub354 \ud06c\ubbc0\ub85c"," ",(0,o.jsx)("span",{className:"txt-red",children:"\ub300\uccb4\ubb38\uc790\ub97c \uae30\uc900\uc73c\ub85c \uc120\ucc28\uac10 \uae08\uc561\uc744 \uc0b0\uc815"}),"\ud569\ub2c8\ub2e4."]})," ","\uae08\uc561\uc740 \ubc1c\uc1a1 \uc2dc\uc791 \uc2dc \ucc28\uac10\ub418\uba70 \ubc1c\uc1a1 \uc2e4\ud328 \uac74\uc5d0 \ub300\ud55c \uae08\uc561\uc740 \ubc1c\uc1a1 \uc644\ub8cc \ud6c4 \uc790\ub3d9 \uc7ac\ucda9\uc804\ub429\ub2c8\ub2e4."]}):"\uae08\uc561\uc740 \ubc1c\uc1a1 \uc2dc\uc791 \uc2dc \ucc28\uac10\ub418\uba70 \ubc1c\uc1a1 \uc2e4\ud328 \uac74\uc5d0 \ub300\ud55c \uae08\uc561\uc740 \ubc1c\uc1a1 \uc644\ub8cc \ud6c4 \uc790\ub3d9 \uc7ac\ucda9\uc804\ub429\ub2c8\ub2e4."})]}),(0,o.jsxs)("dl",{className:"last price-wrap",children:[(0,o.jsxs)("dt",{children:["\uc794\uc5ec \uae08\uc561",(0,o.jsx)("br",{}),(0,o.jsx)("span",{className:"info txt-white",children:"\ud604\uc7ac \ucda9\uc804\uae08 - \uc120\ucc28\uac10 \uae08\uc561 = \uc794\uc5ec\uae08\uc561"})]}),(0,o.jsxs)("dd",{children:[(0,o.jsx)("span",{className:"num",children:I().toLocaleString()})," \uc6d0"]})]}),A?(0,o.jsx)("p",{className:"s-txt txt-red",children:"* \uc794\uc5ec\uae08\uc561\uc774 \ubd80\uc871\ud574 \ubc1c\uc1a1\uc744 \uc9c4\ud589 \ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."}):(0,o.jsx)("p",{className:"s-txt",children:"* \ud3ec\uc778\ud2b8\ubd80\ud130 \uc6b0\uc120 \ucc28\uac10\ub429\ub2c8\ub2e4."})]})})})},k=t(94086),T=t(22435),_=t(47398),Z=t(87536),A=["#{\uc774\ub984}","#{1}","#{2}","#{3}","#{4}"],M="SMS",E="LMS",F="MMS",I=function(e){var n=e.show,t=e.onClose,s=e.info,l=e.serviceType,i=e.data,a=(0,w.useRouter)(),c=(0,y.aF)().user,h=(0,m.useRef)(),f=(0,m.useState)([]),v=f[0],x=f[1],p=(0,m.useState)(!1),j=p[0],b=p[1],g=(0,m.useState)(0),N=g[0],S=g[1],C=(0,m.useState)(M),I=C[0],K=C[1],L=(0,m.useState)(""),D=L[0],B=L[1],P=(0,m.useState)(""),G=P[0],O=P[1],R=(0,m.useState)(""),z=R[0],H=R[1],V=(0,m.useState)(""),W=V[0],J=V[1],Y=(0,m.useState)([]),q=Y[0],X=Y[1],$=(0,Z.Gc)(),U=$.setValue,Q=$.watch,ee=(0,m.useMemo)((function(){return(0,u.Am)(G)}),[G]),ne="TKF"===l?"(\uad11\uace0) ".concat(z,"\n\n").concat(W,"\n\n\ubb34\ub8cc\uac70\ubd80 080-880-2501\n\uc778\uc99d\ucf54\ub4dc ").concat(null===c||void 0===c?void 0:c.mbIdno):W,te=(0,m.useMemo)((function(){var e=(0,u.X$)(ne),n=e.content,t=e.varNameCount,s=e.var1Count,l=e.var2Count,i=e.var3Count,a=e.var4Count;return(0,u.Am)(n)+60*t+60*s+60*l+100*i+100*a}),[ne]);(0,m.useEffect)((function(){n&&(B(Q("subSms.senderNumber")),O(Q("subSms.title")),J(Q("subSms.content")),H(Q("subSms.name")),X(Q("subSms.images")))}),[n,Q]),(0,m.useLayoutEffect)((function(){(null===z||void 0===z?void 0:z.length)>30&&H((function(e){return e.slice(0,30)}))}),[z]);var se=function(){return!D||!W};s.btn=[{name:"\ucd08\uae30\ud654",action:function(){return le()},css:"bg-dark",icon:"reset"},{name:"\ud655\uc778",action:function(){"TKF"!==l||z?(t(),U("subSms.content",W,{shouldValidate:!0}),U("subSms.name",z,{shouldValidate:!0}),U("subSms.images",q,{shouldValidate:!0}),U("subSms.senderNumber",D,{shouldValidate:!0}),U("subSms.title",G,{shouldValidate:!0})):window.AlertInfo({message:"\ub300\uccb4\ubb38\uc790\uc5d0\uc11c '\uc5c5\uccb4\uba85 \ub610\ub294 \uc11c\ube44\uc2a4\uba85'\uc774 \uc785\ub825\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4."})},css:"bg-primary ".concat(se()?"disable":""),disabled:se()}],(0,m.useEffect)((function(){_.Z.get("/api/fo/send/message/sender").then((function(e){e=e.map((function(e){return{value:(0,u.kA)(e.phnum)}})),x(e)}))}),[]),(0,m.useEffect)((function(){n&&(J(i.subSms.content||i.content),S(i.subSms.content.length||i.content.length),"TKF"===l&&X((null===i||void 0===i?void 0:i.imageDisabled)?[]:i.subSms.images||i.images))}),[i,l,n]),(0,m.useLayoutEffect)((function(){ee>30&&O((0,u.AA)(G,30))}),[G,ee]),(0,m.useEffect)((function(){if(te>2e3)if(window.AlertInfo({message:"\ub0b4\uc6a9\uc740 \ucd5c\ub300 2000byte\uae4c\uc9c0 \uc785\ub825 \uac00\ub2a5\ud569\ub2c8\ub2e4."}),"TKF"===l){for(var e=0,n=(0,r.Z)(W),t=0;t<n.length;t++){var s=(0,u.X$)(n.slice(0,t).join("")),i=s.content,a=s.varNameCount,c=s.var1Count,o=s.var2Count,d=s.var3Count,m=s.var4Count;if(!((0,u.Am)(i)+60*a+60*c+60*o+100*d+100*m<=2e3))break;e=t}J(n.slice(0,e).join(""))}else J((0,u.AA)(W,2e3));(null===q||void 0===q?void 0:q.length)>0?K(F):K(te>90?E:M)}),[l,null===c||void 0===c?void 0:c.mbIdno,W,te,null===q||void 0===q?void 0:q.length,z]);var le=function(){S(0),O(""),J(""),H(""),B("")},ie=function(e){return S(e.target.selectionEnd)},ae=function(e){var n=W,t=n.substring(0,N)+e+n.substring(N),s=N+e.length;S(s),J(t),setTimeout((function(){h.current.focus(),h.current.select(),h.current.setSelectionRange(s,s)}),0)};return(0,o.jsx)(d.Z,{show:n,onClose:t,info:s,children:(0,o.jsx)("div",{className:"modal-body send",children:(0,o.jsxs)("div",{className:"cont d-flex",children:[(0,o.jsxs)("div",{className:"form",children:[(0,o.jsxs)("div",{className:"form-input d-flex",children:[(0,o.jsx)("label",{className:"label required",children:"\ubc1c\uc2e0\ubc88\ud638"}),(0,o.jsx)(T.jL,{list:v,current:D||"\ubc1c\uc2e0\ubc88\ud638\ub97c \uc120\ud0dd\ud574\uc8fc\uc138\uc694",setSelect:function(e){return B(e)}}),(0,o.jsx)("button",{className:"btn btn-sm outline-dark",type:"button",onClick:function(){return a.push("/manage/sent")},children:"\ubc1c\uc2e0 \ubc88\ud638 \ub4f1\ub85d"})]}),(0,o.jsxs)("div",{className:"form-input d-flex count",children:[(0,o.jsx)("label",{className:"label",children:"\uc81c\ubaa9"}),(0,o.jsx)("input",{type:"text",placeholder:"\uc81c\ubaa9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694",value:G,onChange:function(e){return O(e.target.value)}}),(0,o.jsxs)("div",{className:"txt-count",children:[ee,"/",(0,o.jsx)("span",{className:"txt-red",children:"30 byte"})]}),(0,o.jsx)("span",{className:"info",children:"SMS \ubc1c\uc1a1 \uc2dc, \uc81c\ubaa9\uc774 \ud3ec\ud568\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."})]}),(0,o.jsxs)("div",{className:"form-input d-flex",children:[(0,o.jsx)("label",{className:"label required",children:"\ub0b4\uc6a9"}),(0,o.jsxs)("div",{className:"sms-area pl-0",children:[(0,o.jsxs)("dl",{className:"box",children:["TKF"===l&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("dt",{children:"(\uad11\uace0)"}),(0,o.jsx)("dd",{className:"svc-name",children:(0,o.jsx)("input",{type:"text",placeholder:"\uc5c5\uccb4\uba85 \ub610\ub294 \uc11c\ube44\uc2a4\uba85 \uc785\ub825 (\ucd5c\ub300 30\uc790 \uc785\ub825\uac00\ub2a5)",value:z,onChange:function(e){return H(e.target.value)}})})]}),(0,o.jsx)("dt",{className:"hidden",children:"\ub0b4\uc6a9"}),(0,o.jsxs)("dd",{className:"txt-box",children:[(0,o.jsx)("div",{className:"scroll",children:(0,o.jsx)("textarea",{ref:h,className:"txt",placeholder:"\ub0b4\uc6a9 \uc785\ub825\n  -  90 byte \ucd08\uacfc \uc2dc LMS \uc790\ub3d9\uc804\ud658".concat("TKF"===l?"\n  -  \ud30c\uc77c\ucca8\ubd80 \uc2dc MMS \uc790\ub3d9\uc804\ud658":""),onKeyDown:ie,onKeyUp:ie,onClick:ie,value:W,onChange:function(e){return J(e.target.value)}})}),(0,o.jsxs)("div",{className:"info-bottom",children:[(0,o.jsx)("p",{children:"TKF"===l&&(0,o.jsxs)(o.Fragment,{children:["\ubb34\ub8cc\uac70\ubd80 080-880-2501",(0,o.jsx)("br",{}),"\uc778\uc99d\ucf54\ub4dc ",null===c||void 0===c?void 0:c.mbIdno]})}),(0,o.jsxs)("div",{className:"txt-count",children:[te,"/",(0,o.jsxs)("span",{className:"txt-red",children:[I===M?90:2e3," byte"]})]})]})]})]}),"TKF"===l&&(0,o.jsx)("div",{className:"btn-list",children:A.map((function(e,n){return(0,o.jsx)("button",{className:"btn btn-sm outline-dark",onClick:function(){return ae(e)},children:e},n)}))}),"TKA"===l&&(0,o.jsx)("div",{className:"info",children:"\uc54c\ub9bc\ud1a1 \ub300\uccb4\ubb38\uc790 \uc218\uc815\ud558\uae30\uc5d0\uc11c\ub294 \ubcc0\uc218 \uae30\ub2a5\uc744 \uc0ac\uc6a9\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."}),(0,o.jsx)(T.cC,{show:j,setShow:b,handler:ae})]})]}),"TKF"===l&&(null===q||void 0===q?void 0:q.length)>0&&(0,o.jsxs)("div",{className:"form-input d-flex file-wrap",children:[(0,o.jsx)("label",{className:"label",children:"\uc774\ubbf8\uc9c0\ucca8\ubd80"}),(0,o.jsx)("ul",{className:"file-list pl-0",children:q.map((function(e,n){return(0,o.jsx)("li",{children:e.flId?e.flNm:e.name},n)}))}),(0,o.jsx)("p",{className:"info",children:"* \uce5c\uad6c\ud1a1\uc5d0 \ucca8\ubd80\ud55c \uc774\ubbf8\uc9c0\ub294 \ub300\uccb4\ubb38\uc790\uc5d0\uc11c \ubcc0\uacbd, \uc0ad\uc81c\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."})]})]}),(0,o.jsxs)("div",{className:"phone",children:[(0,o.jsx)("div",{className:"box-bg",children:(0,o.jsxs)("div",{className:"box",children:[(0,o.jsxs)("div",{className:"head",children:[(0,o.jsx)("span",{className:"arrow"}),(0,o.jsx)("span",{className:"tit",children:"\ubc1c\uc2e0\ubc88\ud638"}),(0,o.jsx)("span",{className:"tag",children:I})]}),(0,o.jsxs)("div",{className:"body",children:[I!==M&&G.length>0&&(0,o.jsx)("div",{className:"tit",children:G}),(0,o.jsxs)("div",{className:"txt",children:["TKF"===l&&(0,o.jsxs)(o.Fragment,{children:["(\uad11\uace0) ",z,(0,o.jsx)("br",{}),(0,o.jsx)("br",{})]}),W,"TKF"===l&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("br",{}),(0,o.jsx)("br",{}),"\ubb34\ub8cc\uac70\ubd80 080-880-2501",(0,o.jsx)("br",{}),"\uc778\uc99d\ucf54\ub4dc ",null===c||void 0===c?void 0:c.mbIdno]})]}),(0,o.jsx)("div",{className:"img",children:(null===q||void 0===q?void 0:q.length)>0&&q.map((function(e,n){return(0,o.jsx)(k.T,{src:e.flId?"https://d151tt5xjnbqzy.cloudfront.net"+e.flPath:e.src,alt:e.flId?e.flNm:e.name,unoptimized:!0},n)}))})]})]})}),(0,o.jsx)("p",{className:"info",children:"\ub2e8\ub9d0\uae30 \uc124\uc815\uc5d0 \ub530\ub77c \ub2e4\ub974\uac8c \ubcf4\uc77c \uc218 \uc788\uc2b5\ub2c8\ub2e4."})]})]})})})},K=t(60228),L=function(e){var n,t,s=e.show,l=e.onClose,r=e.info,c=e.handler,h=(0,m.useRef)(null),f=(0,m.useState)(!1),v=f[0],x=f[1],p=(0,m.useState)(""),b=p[0],g=p[1],N=(0,m.useState)("\uc804\uccb4"),y=N[0],w=N[1],S=(0,m.useState)(""),C=S[0],k=S[1],T=(0,m.useState)(""),_=T[0],Z=T[1],A=(0,m.useState)(""),M=A[0],E=A[1],F=(0,m.useState)({}),I=F[0],L=F[1],D=(0,m.useState)(""),B=D[0],P=D[1],G=(0,m.useState)(1),O=G[0],R=G[1],z=(0,m.useState)(new Set),H=z[0],V=z[1],W=(0,j.s)("/api/fo/addrbk?page=".concat(O).concat(B?"&"+B:"")).data,J=(0,j.s)("/api/fo/addrbk/grp?addrGrpNm=".concat(M)).data,Y=(0,j.s)("/api/fo/addrbk/count").data;(0,m.useEffect)((function(){s?h.current.scrollTo(0,0):(k(""),Z(""),g(""),w("\uc804\uccb4"),E(""),L({}),P(""),V(new Set),R(1),x(!1))}),[s,V]),(0,m.useEffect)((function(){L((function(e){return(0,a.Z)((0,i.Z)({},e),{addrGrpNo:b})})),R(1)}),[b]),(0,m.useEffect)((function(){P((0,u.Wz)(I))}),[I]),(0,m.useLayoutEffect)((function(){var e,n;""!==M&&(g(J&&(null===(e=J[0])||void 0===e?void 0:e.addrGrpNo)),w(J&&(null===(n=J[0])||void 0===n?void 0:n.addrGrpNm)))}),[J,M]),(0,m.useEffect)((function(){v||V(new Set)}),[v]);var q=function(e,n){return e.filter((function(e){return e.mbnum===n.mbnum})).findIndex((function(e){return e.addrGrpNo===n.addrGrpNo}))>-1};return r.btn=[{name:"\ucde8\uc18c",action:l,css:"bg-dark"},{name:"\ucd94\uac00",action:function(){v?""===b?c(!0,J.filter((function(e){return e.addrCnt>0})).map((function(e){return e.addrGrpNo})),J.filter((function(e){return e.addrCnt>0})).map((function(e){return e.addrGrpNm})),J.filter((function(e){return e.addrCnt>0})).map((function(e){return e.addrCnt}))):c(!0,[b],[y],[null===W||void 0===W?void 0:W.totalCount]):H.size>0&&c(!1,Array.from(H)),l()},css:"bg-primary"}],(0,o.jsx)(d.Z,{show:s,onClose:l,info:r,children:(0,o.jsxs)("div",{className:"modal-body d-flex",ref:h,children:[(0,o.jsxs)("div",{className:"tree-wrap",children:[(0,o.jsxs)("div",{className:"sch-input",children:[(0,o.jsx)("input",{type:"text",placeholder:"\uadf8\ub8f9\uba85 \uac80\uc0c9",value:C,onChange:function(e){return k(e.target.value)}}),(0,o.jsx)("button",{className:"ico ico-search",onClick:function(){E(C)},children:"\uac80\uc0c9"})]}),(0,o.jsx)("div",{className:"head",onClick:function(){return g(""),w("\uc804\uccb4"),x(!1),L({addrGrpNo:"",vl:_}),void R(1)},children:(0,o.jsxs)("a",{href:"#",onClick:function(e){return e.preventDefault()},children:[(0,o.jsx)("i",{className:"ico ico-folder"}),"\uc804\uccb4(",null===Y||void 0===Y?void 0:Y.toLocaleString(),")"]})}),(0,o.jsx)("ul",{className:"tree",children:null===J||void 0===J?void 0:J.map((function(e){return(0,o.jsx)("li",{children:(0,o.jsx)("div",{className:"name ".concat(b===e.addrGrpNo?"active":""),onClick:function(){return n=e.addrGrpNo,t=e.addrGrpNm,g(n),w(t),x(!1),L({addrGrpNo:n,vl:_}),void R(1);var n,t},children:(0,o.jsxs)("span",{className:"txt",children:[e.addrGrpNm," (",e.addrCnt.toLocaleString(),")"]})})},e.addrGrpNo)}))})]}),(0,o.jsxs)("div",{className:"table-wrap center",children:[(0,o.jsxs)("div",{className:"sch-input right",children:[(0,o.jsx)("input",{type:"text",placeholder:"\uc774\ub984 \ub610\ub294 \ud734\ub300\ud3f0\ubc88\ud638 \uac80\uc0c9",value:_,onChange:function(e){return Z(e.target.value)}}),(0,o.jsx)("button",{className:"ico ico-search",onClick:function(){return L({addrGrpNo:b,vl:_}),void R(1)},children:"\uac80\uc0c9"})]}),(0,o.jsx)("div",{className:"count-box box-margin",style:{width:"100%"},children:(0,o.jsxs)("div",{className:"total-count",children:["\ucd1d : ",null===W||void 0===W||null===(n=W.totalCount)||void 0===n?void 0:n.toLocaleString()," \uac74"]})}),(0,o.jsxs)("table",{className:"check-box-wrap book",children:[(0,o.jsxs)("colgroup",{children:[(0,o.jsx)("col",{width:"2%"}),(0,o.jsx)("col",{width:"18%"}),(0,o.jsx)("col",{width:"10%"}),(0,o.jsx)("col",{width:"10%"}),(0,o.jsx)("col",{width:"10%"}),(0,o.jsx)("col",{width:"10%"}),(0,o.jsx)("col",{width:"10%"}),(0,o.jsx)("col",{width:"14%"})]}),(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{}),(0,o.jsx)("th",{children:"\ud734\ub300\ud3f0\ubc88\ud638"}),(0,o.jsx)("th",{children:"#{\uc774\ub984}"}),(0,o.jsx)("th",{children:"#{1}"}),(0,o.jsx)("th",{children:"#{2}"}),(0,o.jsx)("th",{children:"#{3}"}),(0,o.jsx)("th",{children:"#{4}"}),(0,o.jsx)("th",{children:"\uadf8\ub8f9\uba85"})]})}),(0,o.jsx)("tbody",{children:null===W||void 0===W||null===(t=W.result)||void 0===t?void 0:t.map((function(e,n){return(0,o.jsxs)("tr",{className:q(Array.from(H),e)?"checked":"",children:[(0,o.jsx)("td",{children:(0,o.jsxs)("div",{className:"form-check fir",children:[(0,o.jsx)("input",{type:"checkbox",id:"chk-0".concat(n),checked:q(Array.from(H),e),onChange:function(n){return function(e,n){var t=new Set(H);n?t.add(e):t.delete(e),V(t)}(e,n.target.checked)},disabled:v}),(0,o.jsx)("label",{htmlFor:"chk-0".concat(n)})]})}),(0,o.jsx)("td",{children:(0,u.kA)(e.mbnum)}),(0,o.jsx)("td",{children:e.addrNm}),(0,o.jsx)("td",{children:e.var1Vl}),(0,o.jsx)("td",{children:e.var2Vl}),(0,o.jsx)("td",{children:e.var3Vl}),(0,o.jsx)("td",{children:e.var4Vl}),(0,o.jsx)("td",{children:e.addrGrpNm})]},n)}))})]}),0===(null===W||void 0===W?void 0:W.totalCount)&&(0,o.jsx)("div",{className:"empty",children:I.vl?"\uc544\uc27d\uac8c\ub3c4 \uc870\uac74\uc5d0 \ub9de\ub294 \uac80\uc0c9 \uacb0\uacfc\ub97c \ucc3e\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4.":"\uc8fc\uc18c\ub85d\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."}),(0,o.jsx)(K.tl,{index:O,setIndex:R,total:null===W||void 0===W?void 0:W.totalCount,offset:1e3}),(0,o.jsx)("div",{className:"btn-wrap d-flex end",children:(0,o.jsx)("div",{className:"right",children:(0,o.jsx)("button",{className:"btn btn-sm outline-dark",onClick:function(){return x(!v),void V(v?new Set:new Set(null===W||void 0===W?void 0:W.result))},disabled:0===(null===W||void 0===W?void 0:W.totalCount),children:"\uc804\uccb4 \uc120\ud0dd"})})})]})]})})},D=function(e){var n=e.show,t=e.onClose,s=e.info;return(0,o.jsx)(d.Z,{show:n,onClose:t,info:s,children:(0,o.jsxs)("div",{className:"modal-body modal-body-bottom w-100",children:[(0,o.jsx)("p",{className:"label label-str",children:"\ubd88\ubc95 \uc2a4\ud338 \ubc29\uc9c0\ub97c \uc704\ud55c \uc815\ubcf4\ud1b5\uc2e0\ub9dd\ubc95 (\uc81c50\uc870) \uac15\ud654\uc5d0 \ub530\ub77c \uad11\uace0\uc131 \uc815\ubcf4\ub97c \uc804\uc1a1\ud560 \uacbd\uc6b0 \uc544\ub798 \ub0b4\uc6a9\uc744 \ubc18\ub4dc\uc2dc \ud655\uc778\ud558\uace0 \ubc95\ub839\uc744 \uc900\uc218\ud558\uc5ec \uad11\uace0\ubb38\uc790\ub97c \uc804\uc1a1\ud574\uc57c \ud569\ub2c8\ub2e4. \ub2e8, \uc57c\uac04\uc2dc\uac04 (\uc624\ud6c4 9\uc2dc ~ \ub2e4\uc74c\ub0a0 \uc624\uc804 8\uc2dc\uae4c\uc9c0) \uad11\uace0\uc131 \uc815\ubcf4 \uc804\uc1a1\uc740 \uae08\uc9c0\ub418\uba70, \uc804\uc1a1\uc774 \ud544\uc694\ud55c \uacbd\uc6b0 \uc218\uc2e0\uc790\ub85c\ubd80\ud130 \ubcc4\ub3c4\uc758 \uc0ac\uc804\ub3d9\uc758\ub97c \ubc1b\uc544\uc57c \ud558\uace0, \uc218\uc2e0\uac70\ubd80\ub97c \ubc1b\uc740 \uacbd\uc6b0 14\uc77c\uc774\ub0b4 \ucc98\ub9ac\uacb0\uacfc\ub97c \ud1b5\uc9c0\ud574\uc57c \ud569\ub2c8\ub2e4. (\uc81c50\uc870 7\ud56d) \ub9cc\uc57d, \uc218\uc2e0\uac70\ubd80, \uc218\uc2e0\ub3d9\uc758 \ucca0\ud68c\uc5d0 \ud544\uc694\ud55c \uc870\uce58\ub97c \ud558\uc9c0 \uc54a\uace0 \uc704\ubc18 \ud560 \uacbd\uc6b0 3\ucc9c\ub9cc\uc6d0 \uc774\ud558\uc758 \uacfc\ud0dc\ub8cc\uac00 \ubd80\uacfc\ub420 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ub610\ud55c \ud734\ub300\uc804\ud654 \ubb38\uc790\ub85c \uc804\uc1a1\ud558\ub294 \uad11\uace0\uc131 \uc815\ubcf4\ub97c \uc774\ubbf8\uc9c0 \ud615\ud0dc (jpg/ gif/ png \ud30c\uc77c \ud615\uc2dd \ub4f1) \ub85c \ubcf4\ub0b4\uc5b4 \uc218\uc2e0\uc790\uc758 \ud544\ud130\ub9c1\uc744 \ud68c\ud53c\ud558\ub294 \uac83\ub3c4 \uc218\uc2e0\uac70\ubd80\ub97c \ud68c\ud53c\ud558\ub294 \uc870\uce58\uc5d0 \ud574\ub2f9\ud569\ub2c8\ub2e4."}),(0,o.jsxs)("div",{className:"d-flex modal-form",children:[(0,o.jsx)("a",{className:"btn btn-sm outline-dark infoLaw btn-mr",rel:"noopener noreferrer",target:"_blank",href:"https://fo.aimegazone.com/public/doc/\ubd88\ubc95\uc2a4\ud338_\ubc29\uc9c0\ub97c_\uc704\ud55c_\uc815\ubcf4\ud1b5\uc2e0\ub9dd\ubc95_\uc548\ub0b4\uc11c_\uc81c5\ucc28_\uac1c\uc815\ud310.pdf",children:(0,o.jsx)("p",{className:"law-manual",children:"\uc815\ubcf4\ud1b5\uc2e0\ub9dd\ubc95 \uc548\ub0b4\uc11c"})}),(0,o.jsx)("a",{className:"btn btn-sm outline-dark infoLaw",rel:"noopener noreferrer",target:"_blank",href:"https://www.law.go.kr/%EB%B2%95%EB%A0%B9/%EC%A0%95%EB%B3%B4%ED%86%B5%EC%8B%A0%EB%A7%9D%EC%9D%B4%EC%9A%A9%EC%B4%89%EC%A7%84%EB%B0%8F%EC%A0%95%EB%B3%B4%EB%B3%B4%ED%98%B8%EB%93%B1%EC%97%90%EA%B4%80%ED%95%9C%EB%B2%95%EB%A5%A0",children:(0,o.jsx)("p",{className:"law-manual",children:"\uc815\ubcf4\ud1b5\uc2e0\ub9dd \uad00\ub828 \ubc95\ub960"})})]}),(0,o.jsx)("div",{className:"modal-main-img"}),(0,o.jsxs)("div",{className:"modal-essential",children:[(0,o.jsxs)("div",{className:"label",children:[(0,o.jsx)("p",{className:"num",children:"1"}),(0,o.jsx)("p",{className:"label-num",children:"\uad11\uace0\ubb38\uc790\uc2dc\uc791\ubd80\ubd84\uc5d0 (\uad11\uace0) \ud45c\uae30\ud544\uc218"}),(0,o.jsx)("p",{className:"label-str",children:"TIP: \uad11\uace0\uc131 \uc815\ubcf4\uac00 \ud3ec\ud568\ub418\uc5b4 \uc788\uc2b5\ub2c8\ub2e4. \uccb4\ud06c\ubc84\ud2bc \ud074\ub9ad \uc2dc \u2018(\uad11\uace0)\u2019 \ubb38\uad6c\uac00 \uc0dd\uc131\ub429\ub2c8\ub2e4."}),(0,o.jsx)("p",{className:"label-str",children:"\u203b \u201d\uad11\uace0\u201d, [\uad11\uace0], (\uad11/\uace0) \ub4f1\uc73c\ub85c \ubcc0\uce59 \ud45c\uae30\ub294 \ubd88\uac00\ud569\ub2c8\ub2e4."})]}),(0,o.jsxs)("div",{className:"label",children:[(0,o.jsx)("p",{className:"num",children:"2"}),(0,o.jsx)("p",{className:"label-num",children:"\uc804\uc1a1\uc790\uc758 \uba85\uce6d \ubc0f \uc5f0\ub77d\ucc98 \ud45c\uae30 \ud544\uc218"}),(0,o.jsx)("p",{className:"label-str",children:"\u203b \u201c\uc804\uc1a1\uc790\uc758 \uba85\uce6d\u201d\uc740 \uc218\uc2e0\uc790\uac00 \uc804\uc1a1\uc790\ub97c \uc27d\uac8c \ud655\uc778\ud560 \uc218 \uc788\ub3c4\ub85d \uc5c5\uccb4\uba85, \uc11c\ube44\uc2a4\uba85 \ub4f1\uc744 \uad6c\uccb4\uc801\uc774\uace0 \uba85\ud655\ud558\uac8c \ud45c\uc2dc\ud558\uc5ec\uc57c\ud569\ub2c8\ub2e4."}),(0,o.jsx)("p",{className:"label-str",children:"(\uc815\ubcf4\ud1b5\uc2e0\ub9dd\ubc95 \uc81c 50\uc870 4\ud56d, 6\ud56d\uc5d0 \uc758\uac70\ud55c \uc758\ubb34\uc0ac\ud56d\uc73c\ub85c \uc0ac\uc5c5\uc790\uba85 \ub610\ub294 \uc11c\ube44\uc2a4\uba85 \ubbf8\uc801\uc6a9 \uc2dc 3\ucc9c\ub9cc\uc6d0 \uc774\ud558 \uacfc\ud0dc\ub8cc\uac00 \ubd80\uacfc\ub429\ub2c8\ub2e4.)"})]}),(0,o.jsxs)("div",{className:"label",children:[(0,o.jsx)("p",{className:"num",children:"3"}),(0,o.jsx)("p",{className:"label-num",children:"\uad11\uace0 \uc218\uc2e0 \ubb34\ub8cc\uac70\ubd80 080 \ubc88\ud638 \ud45c\uae30 \ud544\uc218"}),(0,o.jsx)("p",{className:"label-str",children:"\u203b \u2019\ubb34\ub8cc\uac70\ubd80\u2019 \ub2e8\uc5b4\uac00 \ud3ec\ud568\ub418\uc5b4\uc57c \ud569\ub2c8\ub2e4."})]})]})]})})},B=t(74843),P=t.n(B),G=t(3151),O=t(13882);function R(e){return(0,O.Z)(1,arguments),(0,G.Z)(e,Date.now())}var z=function(e){var n=e.list,t=e.totalCount,s=e.valTmplDvs,l=e.selected,c=e.setSelected,d=e.isSearch,h=e.lockerMode,f=e.lockerItems,v=e.setLockerItems,x=e.tab,p=(0,m.useState)([0,0,0,0,0,0]),j=p[0],g=p[1];(0,m.useEffect)((function(){g([0,0,0,0,0,0])}),[n]);var N=function(e,n){if(h){var t=(0,r.Z)(f),s=f.findIndex((function(e){return e===n.tmplId}));s>-1?(t.splice(s,1),v(t)):v((function(e){return(0,r.Z)(e).concat([n.tmplId])}))}else{var o=function(){c({tmplId:n.tmplId,tmplTtl:n.tmplTtl,adIncluYn:n.adIncluYn||"N",svcNm:n.svcNm,tmplCotn:n.tmplCotn,messageTemplateFileList:n.messageTemplateFileList}),d()},d=function(){window.AlertShow(!1)};l.tmplId!==n.tmplId?"IMG"!==e?l.tmplTtl||l.tmplCotn||l.messageTemplateFileList.length>0?window.AlertInfo({message:"\ud15c\ud50c\ub9bf \uc801\uc6a9 \uc2dc \uae30\uc874\uc5d0 \ub4f1\ub85d\ub41c \ub0b4\uc6a9\uc740 \uc0ad\uc81c\ub429\ub2c8\ub2e4.<br />\uc120\ud0dd\ud55c \ud15c\ud50c\ub9bf ".concat("MMS"===e?"\ub0b4\uc6a9\uacfc \uc774\ubbf8\uc9c0\ub97c":"\ub0b4\uc6a9\uc744"," \uc801\uc6a9\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"),btn:[{name:"\ucde8\uc18c",action:function(){return d()},css:"bg-dark"},{name:"\ud655\uc778",action:function(){return o()},css:"bg-primary"}]}):o():3===l.messageTemplateFileList.length?window.AlertInfo({message:"\uc774\ubbf8 \ub4f1\ub85d\ub41c \uc774\ubbf8\uc9c0\ub97c \uc81c\uc678\ud558\uace0 \uc120\ud0dd\ud55c \uc774\ubbf8\uc9c0\ub97c \ucd94\uac00\ud569\ub2c8\ub2e4.<br />\uc120\ud0dd\ud55c \uc774\ubbf8\uc9c0\ub85c \ucca8\ubd80 \uc774\ubbf8\uc9c0\ub97c \uad50\uccb4\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",btn:[{name:"\ucde8\uc18c",action:function(){return d()},css:"bg-dark"},{name:"\ud655\uc778",action:function(){return c((0,a.Z)((0,i.Z)({},l),{messageTemplateFileList:[n.messageTemplateFileList[0]]})),void d()},css:"bg-primary"}]}):window.AlertInfo({message:"\uc120\ud0dd\ud55c \uc774\ubbf8\uc9c0\ub97c \ucca8\ubd80\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",btn:[{name:"\ucde8\uc18c",action:function(){return d()},css:"bg-dark"},{name:"\ud655\uc778",action:function(){return c((0,a.Z)((0,i.Z)({},l),{messageTemplateFileList:(0,r.Z)(l.messageTemplateFileList).concat([n.messageTemplateFileList[0]])})),void d()},css:"bg-primary"}]}):c({tmplId:"",tmplTtl:"",adIncluYn:"N",svcNm:"",tmplCotn:"",messageTemplateFileList:[]})}},y=function(e){return h?f.includes(e.tmplId)?P().checked:"":"IMG"!==s&&e.tmplId===l.tmplId?P().checked:""};return(0,o.jsxs)(o.Fragment,{children:[0===t&&(0,o.jsx)("div",{className:P().empty,children:d?"\uac80\uc0c9 \uacb0\uacfc\uac00 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.":"\ub4f1\ub85d\ub41c \ud15c\ud50c\ub9bf\uc774 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."}),(0,o.jsx)(o.Fragment,{children:(null===n||void 0===n?void 0:n.length)>0&&n.map((function(e,n){var t,l,i,a,c,d;return(0,o.jsxs)("div",{className:"".concat(P().item," ").concat(y(e)),children:[(0,o.jsxs)("div",{className:P().head,"data-tooltip":(null===(t=document.getElementById("tmplParagraph-".concat(n)))||void 0===t?void 0:t.clientWidth)<(null===(l=document.getElementById("tmplParagraph-".concat(n)))||void 0===l?void 0:l.scrollWidth)?e.tmplTtl:null,onClick:function(){return N(s,e)},children:[(0,o.jsx)("input",{type:"checkbox"}),(0,o.jsx)("p",{className:"".concat(P().title," ").concat(0===x&&R(new Date(e.regDtt))?P().new:""),id:"tmplParagraph-".concat(n),children:e.tmplTtl})]}),"MMS"===s&&(0,o.jsxs)("div",{className:P().bodyImage,children:[(0,o.jsx)("div",{className:P().image,children:(0,o.jsx)("div",{className:P().thumb,children:(0,o.jsx)(k.T,{src:"https://d151tt5xjnbqzy.cloudfront.net"+(null===(i=e.messageTemplateFileList[j[n]])||void 0===i?void 0:i.flPath),alt:null===(a=e.messageTemplateFileList[j[n]])||void 0===a?void 0:a.flNm,unoptimized:!0})})}),(0,o.jsxs)("div",{className:P().paging,children:[(0,o.jsx)("button",{type:"button",className:P().prev,onClick:function(){return function(e,n){var t=(0,r.Z)(j);0===j[e]?t[e]=n-1:t[e]-=1,g(t)}(n,e.messageTemplateFileList.length)},children:"\uc774\uc804"}),(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:void 0===j[n]?0:j[n]+1}),"/",e.messageTemplateFileList.length]}),(0,o.jsx)("button",{type:"button",className:P().next,onClick:function(){return function(e,n){var t=(0,r.Z)(j);j[e]===n-1?t[e]=0:t[e]+=1,g(t)}(n,e.messageTemplateFileList.length)},children:"\ub2e4\uc74c"})]})]}),"IMG"===s&&(0,o.jsx)("div",{className:P().bodyImage,children:(0,o.jsx)("div",{className:P().image,children:(0,o.jsx)("div",{className:P().thumb,children:(0,o.jsx)(k.T,{src:"https://d151tt5xjnbqzy.cloudfront.net"+(null===(c=e.messageTemplateFileList[0])||void 0===c?void 0:c.flPath),alt:null===(d=e.messageTemplateFileList[0])||void 0===d?void 0:d.flNm,unoptimized:!0})})})}),"IMG"!==s&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:P().bodyText,children:e.tmplCotn}),(0,o.jsxs)("div",{className:P().foot,children:[0===x&&(0,o.jsx)("span",{className:P().date,children:(0,b.Z)(new Date(e.regDtt),"yyyy-MM-dd")}),(0,o.jsxs)("span",{className:P().byte,style:0===x?{}:{borderLeft:0},children:[(0,u.Am)(e.tmplCotn)," byte"]})]})]})]},e.tmplId)}))})]})},H=function(e){var n,t,r=e.selected,d=e.setSelected,h=e.reload,f=e.setReload,v=e.clfCd,p=(0,m.useState)(0),b=p[0],N=p[1],y=(0,m.useState)(0),w=y[0],S=y[1],C=(0,m.useState)([]),k=C[0],T=C[1],Z=(0,m.useState)(0),A=Z[0],M=Z[1],E=(0,m.useState)([]),F=E[0],I=E[1],L=(0,m.useState)([]),D=L[0],B=L[1],G=(0,m.useState)([]),O=G[0],R=G[1],H=(0,m.useState)(""),V=H[0],W=H[1],J=(0,m.useState)("SMS"),Y=J[0],q=J[1],X=(0,m.useState)({cd:"",cdNm:"\uc804\uccb4"}),$=X[0],U=X[1],Q=(0,m.useState)(!1),ee=Q[0],ne=Q[1],te=(0,m.useState)([]),se=te[0],le=te[1],ie=(0,m.useState)(1),ae=ie[0],re=ie[1],ce=(0,m.useState)(12),oe=ce[0],de=ce[1],ue=(0,m.useState)({page:1,offset:12,smplTmplClfCd:null===(n=v[0])||void 0===n?void 0:n.cd}),me=ue[0],he=ue[1],fe=(0,m.useState)(""),ve=fe[0],xe=fe[1],pe=(0,j.s)(0===b?"/api/fo/send/message/template/member?".concat(ve):null).data,je=(0,j.s)(1===b?"/api/fo/send/message/template/sample?".concat(ve):null).data,be=(0,j.s)(1===b?"/api/bo/template/sample/category?useYn=Y":null).data,ge=(0,j.s)("/api/fo/send/message/template/count?tmplDvsCd=".concat(0===b?"TPM":"TPS&smplTmplClfCd="+(null===(t=v[A])||void 0===t?void 0:t.cd)+"&smplTmplCatNo="+$.cd)).data;(0,m.useEffect)((function(){var e;h&&((0,g.JG)(0===b?"/api/fo/send/message/template/member?".concat(ve):"/api/fo/send/message/template/sample?".concat(ve)),(0,g.JG)("/api/fo/send/message/template/count?tmplDvsCd=".concat(0===b?"TPM":"TPS&smplTmplClfCd="+(null===(e=v[A])||void 0===e?void 0:e.cd)+"&smplTmplCatNo="+$.cd)),f(!1))}),[A,v,ve,h,f,b,$.cd]),(0,m.useEffect)((function(){var e,n,t=(0,x.sortBy)(null===be||void 0===be||null===(e=be.data)||void 0===e?void 0:e.filter((function(e){return"TCI"===e.smplTmplClfCd})),"sortNum"),s=(0,x.sortBy)(null===be||void 0===be||null===(n=be.data)||void 0===n?void 0:n.filter((function(e){return"TCT"===e.smplTmplClfCd})),"sortNum");I(t),B(s)}),[be]),(0,m.useEffect)((function(){R(0===A?F:D)}),[A,F,D]),(0,m.useEffect)((function(){var e={sms:(null===ge||void 0===ge?void 0:ge.smsCount)||0,lms:(null===ge||void 0===ge?void 0:ge.lmsCount)||0,mms:(null===ge||void 0===ge?void 0:ge.mmsCount)||0,img:(null===ge||void 0===ge?void 0:ge.imgCount)||0},n=[{cdNm:"SMS(".concat(e.sms,")"),tooltip:"SMS\ub294 \ub2e8\ubb38 \ud615\ud0dc\uc758 \uba54\uc2dc\uc9c0 \ud15c\ud50c\ub9bf \uc785\ub2c8\ub2e4."},{cdNm:"LMS(".concat(e.lms,")"),tooltip:"LMS\ub294 \uc7a5\ubb38 \ud615\ud0dc\uc758 \uba54\uc2dc\uc9c0 \ud15c\ud50c\ub9bf \uc785\ub2c8\ub2e4."},{cdNm:"MMS(".concat(e.mms,")"),tooltip:"MMS\ub294 \uc774\ubbf8\uc9c0\ub97c \ud3ec\ud568\ud558\ub294 \uba40\ud2f0\uba54\uc2dc\uc9c0 \ud15c\ud50c\ub9bf \uc785\ub2c8\ub2e4.\n\ub4f1\ub85d\ub41c \uc774\ubbf8\uc9c0\ub294 \uba54\uac00\ubc84\ub4dc \ubc1c\uc1a1 \uc678 \ubb34\ub2e8 \uc0ac\uc6a9 \uc2dc \uc774\ubbf8\uc9c0 \uc800\uc791\uad8c \uc800\ucd09 \ubc0f \ubc95\uc801\uc73c\ub85c \ubb38\uc81c\uac00 \ub420 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}];1===b&&n.pop(),T(n)}),[ge,b]),(0,m.useEffect)((function(){he((function(e){return(0,a.Z)((0,i.Z)({},e),{page:ae})}))}),[ae]),(0,m.useEffect)((function(){he((function(e){return(0,a.Z)((0,i.Z)({},e),{offset:oe})}))}),[oe]),(0,m.useLayoutEffect)((function(){xe((0,u.Wz)(me))}),[me]),(0,m.useLayoutEffect)((function(){he((function(e){var n,t,s=(0,a.Z)((0,i.Z)({},e),(n={},(0,l.Z)(n,0===b?"txtmsgDvsCd":"smplTmplDvsCd",Y),(0,l.Z)(n,"keyword",""),n));(0===b?delete s.smplTmplDvsCd:delete s.txtmsgDvsCd,1===b)&&(s.smplTmplCatNo=$.cd,s.smplTmplClfCd=null===(t=v[A])||void 0===t?void 0:t.cd);return s})),re(1),de("MMS"===Y?6:12),W("")}),[A,v,b,$,Y]),(0,m.useEffect)((function(){q("SMS"),0===b&&(ne(!1),M(0),U({cd:"",cdNm:"\uc804\uccb4"})),ye({cdNm:"SMS(".concat(null===ge||void 0===ge?void 0:ge.smsCount,")"),tooltip:"SMS\ub294 \ub2e8\ubb38 \ud615\ud0dc\uc758 \uba54\uc2dc\uc9c0 \ud15c\ud50c\ub9bf \uc785\ub2c8\ub2e4."},0)}),[b,null===ge||void 0===ge?void 0:ge.smsCount]);var Ne=function(){var e=(0,s.Z)((function(){var e,n;return(0,c.__generator)(this,(function(t){if(ee){if(0===se.length)return window.AlertInfo("\ud15c\ud50c\ub9bf \ubcf4\uad00\ud568\uc73c\ub85c \ubcf5\uc0ac\ud560 \uc0d8\ud50c \ud15c\ud50c\ub9bf\uc744 \uc120\ud0dd\ud574\uc8fc\uc138\uc694."),[2];e=function(){var e=(0,s.Z)((function(){return(0,c.__generator)(this,(function(e){switch(e.label){case 0:return[4,_.Z.post("/api/fo/send/message/template/member?tmplIdList=".concat(se)).then((function(e){e.error||(ne(!1),le([]),N(0),f(!0)),n()}))];case 1:return e.sent(),[2]}}))}));return function(){return e.apply(this,arguments)}}(),n=function(){window.AlertShow(!1)},window.AlertInfo({message:"\uc120\ud0dd\ud55c \uc0d8\ud50c \ud15c\ud50c\ub9bf\uc744 \ud15c\ud50c\ub9bf \ubcf4\uad00\ud568\uc73c\ub85c \uc774\ub3d9\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",btn:[{name:"\ucde8\uc18c",action:function(){return n()},css:"bg-dark"},{name:"\ud655\uc778",action:function(){return e()},css:"bg-primary"}]})}else ne(!ee);return[2]}))}));return function(){return e.apply(this,arguments)}}(),ye=function(e,n){var t=e.cdNm.split("(")[0];q("\uc774\ubbf8\uc9c0"===t?"IMG":t),S(n)};return(0,o.jsxs)("div",{className:P().locker,children:[(0,o.jsx)(K.hF,{list:[{cdNm:"\ud15c\ud50c\ub9bf \ubcf4\uad00\ud568"},{cdNm:"\uc0d8\ud50c \ubcf4\uad00\ud568"}],current:b,callbackFunc:function(e){var n=e.i;return N(n)},size:"inner"}),(0,o.jsxs)("div",{className:P().wrapDesc,children:[0===b?(0,o.jsxs)("ul",{children:[(0,o.jsx)("li",{children:"\ud15c\ud50c\ub9bf \uc218\uc815\uc740 \ud15c\ud50c\ub9bf \uad00\ub9ac \uba54\ub274\ub97c \uc774\uc6a9\ud574\uc8fc\uc138\uc694."}),(0,o.jsx)("li",{children:"\uc800\uc7a5\ub41c \ud15c\ud50c\ub9bf\uc744 \ud074\ub9ad\ud558\uba74 \ubc1c\uc1a1 \ud654\uba74\uc5d0 \uc81c\ubaa9\uacfc \ub0b4\uc6a9\uc774 \uc801\uc6a9\ub429\ub2c8\ub2e4."})]}):(0,o.jsxs)("ul",{children:[(0,o.jsx)("li",{children:"\uc0d8\ud50c \uc120\ud0dd \uc2dc \ud574\ub2f9 \ud15c\ud50c\ub9bf\uc73c\ub85c \ubb38\uc790 \ub0b4\uc6a9\uc774 \uc801\uc6a9 \ub429\ub2c8\ub2e4."}),(0,o.jsx)("li",{children:"\ud15c\ud50c\ub9bf \ubcf4\uad00\uc744 \ub204\ub978 \ud6c4 \uc120\ud0dd\ud55c \ud15c\ud50c\ub9bf\uc744 \ud15c\ud50c\ub9bf \ubcf4\uad00\ud568\uc73c\ub85c \ubcf5\uc0ac\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."})]}),1===b&&(0,o.jsx)("button",{type:"button",className:"btn btn-sm outline-dark",onClick:function(){return Ne()},children:!1===ee?"\ud15c\ud50c\ub9bf \ubcf4\uad00":"\ud15c\ud50c\ub9bf \ubcf5\uc0ac"})]}),1===b&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(K.hF,{list:[{cdNm:"\uc0b0\uc5c5\ubcc4"},{cdNm:"\ud14c\ub9c8\ubcc4"}],current:A,callbackFunc:function(e){return function(e){var n;M(e),U({cd:"",cdNm:"\uc804\uccb4"}),(0,g.JG)("/api/fo/send/message/template/count?tmplDvsCd=".concat(0===b?"TPM":"TPS&smplTmplClfCd="+(null===(n=v[e])||void 0===n?void 0:n.cd)+"&smplTmplCatNo="+$.cd))}(e.i)},size:"category"}),(0,o.jsx)("div",{className:P().categoryList,children:(0,o.jsxs)("div",{className:P().scroll,children:[(0,o.jsxs)("label",{htmlFor:"cateVal-all",children:[(0,o.jsx)("input",{type:"radio",name:"cate",id:"cateVal-all",checked:""===$.cd,onChange:function(){return U({cd:"",cdNm:"\uc804\uccb4"})}}),(0,o.jsx)("span",{children:"\uc804\uccb4"})]}),null===O||void 0===O?void 0:O.map((function(e,n){return(0,o.jsxs)("label",{htmlFor:"cateVal-"+n,children:[(0,o.jsx)("input",{type:"radio",name:"cate",id:"cateVal-"+n,checked:$.cd===e.smplTmplCatNo,onChange:function(){return U({cd:e.smplTmplCatNo,cdNm:e.smplTmplCatNm})}}),(0,o.jsx)("span",{children:e.smplTmplCatNm})]},"cate-"+n)}))]})})]}),(0,o.jsx)("div",{className:P().wrapSearch,children:(0,o.jsxs)("div",{className:"sch-input",children:[(0,o.jsx)("input",{type:"search",placeholder:"\uc81c\ubaa9 \ud639\uc740 \ub0b4\uc6a9\uc73c\ub85c \uac80\uc0c9\ud574\uc8fc\uc138\uc694",value:V,onChange:function(e){return W(e.target.value)}}),(0,o.jsx)("button",{className:"ico ico-search",onClick:function(){he((0,a.Z)((0,i.Z)({},me),{keyword:V}))},children:"\uac80\uc0c9"})]})}),(0,o.jsx)(K.hF,{list:k,current:w,callbackFunc:function(e){var n=e.obj,t=e.i;return ye(n,t)},size:"inner-sub"}),(0,o.jsx)("div",{className:P().list,children:(0,o.jsx)(z,{list:0===b?null===pe||void 0===pe?void 0:pe.result:null===je||void 0===je?void 0:je.result,totalCount:0===b?null===pe||void 0===pe?void 0:pe.totalCount:null===je||void 0===je?void 0:je.totalCount,valTmplDvs:Y,selected:r,setSelected:d,isSearch:me.keyword&&me.keyword.length>0,lockerMode:ee,lockerItems:se,setLockerItems:le,tab:b})}),(0,o.jsx)(K.tl,{index:ae,setIndex:re,offset:oe,total:0===b?null===pe||void 0===pe?void 0:pe.totalCount:null===je||void 0===je?void 0:je.totalCount})]})}},25482:function(e){e.exports={imageContainer:"autoHeightImage_imageContainer__q4WUo",autoheight:"autoHeightImage_autoheight__PEXJi"}},74843:function(e){e.exports={locker:"locker_locker__YIPwB",wrapDesc:"locker_wrapDesc__A0AGu",wrapSearch:"locker_wrapSearch__u3IDW",list:"locker_list__15JRy",empty:"locker_empty__whMjw",item:"locker_item__h7B83",checked:"locker_checked__U2twe",head:"locker_head__oIySc",title:"locker_title___00te",new:"locker_new__H0ifH",bodyText:"locker_bodyText__8_20y",foot:"locker_foot__Myrn4",byte:"locker_byte__avzYO",bodyImage:"locker_bodyImage__ttS5z",image:"locker_image__AK7nD",thumb:"locker_thumb__cSay8",paging:"locker_paging__4nuub",prev:"locker_prev__nijwH",next:"locker_next__Q30Qj",categoryList:"locker_categoryList__XhHow",scroll:"locker_scroll__yAwSx"}},20067:function(){},72061:function(){},40872:function(e,n,t){"use strict";function s(){return s=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},s.apply(this,arguments)}function l(){return s.apply(this,arguments)}t.d(n,{Z:function(){return l}})}}]);