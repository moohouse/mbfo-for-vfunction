"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1812],{81812:function(t,s,n){n.d(s,{k:function(){return C}});var e=n(85893),c=n(35621),a=n(67294),l=n(60228),d=n(63926),i=n(43703),r=n(54559),o=n(4135),h=n(47398),C=function(t){var s=t.show,C=t.onClose,m=t.info,u=t.date,x=t.sendType,f=t.isApi,j=void 0!==f&&f,k=(0,a.useState)(u.startDate),T=k[0],p=k[1],b=(0,a.useState)(u.endDate),y=b[0],M=b[1],N=(0,a.useState)(!1),v=N[0],S=N[1],g=(0,a.useState)({}),L=g[0],D=g[1],w=(0,a.useState)(!1),Z=w[0],K=w[1],F="message"===x?["\ub2e8\ubb38","\uc7a5\ubb38","\ud3ec\ud1a0"]:["\uc54c\ub9bc\ud1a1","\uce5c\uad6c\ud1a1 \ud14d\uc2a4\ud2b8","\uce5c\uad6c\ud1a1 \ud3ec\ud1a0"],I="api/fo/send/history/".concat(x,"/statistics?beginDate=").concat((0,d.Z)(T,"yyyy-MM-dd"),"&endDate=").concat((0,d.Z)(y,"yyyy-MM-dd")),E="/api/fo/dashboard/statistics/".concat(x,"?beginDate=").concat((0,d.Z)(T,"yyyy-MM-dd"),"&endDate=").concat((0,d.Z)(y,"yyyy-MM-dd")),P={startDate:T,setStartDate:p,endDate:y,setEndDate:M},_=function(t){var s=-2;if("message"===x){var n={successSmsCnt:0,successLmsCnt:0,successMmsCnt:0,failSmsCnt:0,failLmsCnt:0,failMmsCnt:0,totalSmsCnt:0,totalLmsCnt:0,totalMmsCnt:0};-1!==(s=t.findIndex((function(t){return"SMS"===t.svcKndCd})))&&(n.successSmsCnt=t[s].mtcCnt,n.failSmsCnt=t[s].mtfCnt,n.totalSmsCnt=t[s].totalCnt),-1!==(s=t.findIndex((function(t){return"LMS"===t.svcKndCd})))&&(n.successLmsCnt=t[s].mtcCnt,n.failLmsCnt=t[s].mtfCnt,n.totalLmsCnt=t[s].totalCnt),-1!==(s=t.findIndex((function(t){return"MMS"===t.svcKndCd})))&&(n.successMmsCnt=t[s].mtcCnt,n.failMmsCnt=t[s].mtfCnt,n.totalMmsCnt=t[s].totalCnt),D(n)}else if("kakao"===x){var e={successTkaCnt:0,successTkfCnt:0,successTktCnt:0,failTkaCnt:0,failTkfCnt:0,failTktCnt:0,totalTkaCnt:0,totalTkfCnt:0,totalTktCnt:0};-1!==(s=t.findIndex((function(t){return"TKA"===t.svcKndCd})))&&(e.successTkaCnt=t[s].mtcCnt,e.failTkaCnt=t[s].mtfCnt,e.totalTkaCnt=t[s].totalCnt),-1!==(s=t.findIndex((function(t){return"TKT"===t.svcKndCd})))&&(e.successTktCnt=t[s].mtcCnt,e.failTktCnt=t[s].mtfCnt,e.totalTktCnt=t[s].totalCnt),-1!==(s=t.findIndex((function(t){return"TKF"===t.svcKndCd})))&&(e.successTkfCnt=t[s].mtcCnt,e.failTkfCnt=t[s].mtfCnt,e.totalTkfCnt=t[s].totalCnt),D(e)}};(0,a.useEffect)((function(){s&&!Z&&(K(!0),p(u.startDate),M(u.endDate),j?j&&h.Z.get(E).then((function(t){D(t),_(t)})):h.Z.get(I).then((function(t){D(t)})))}),[s,p,M,u,T,y,Z,I,j,E]),(0,a.useEffect)((function(){C&&K(!1)}),[C]);var A=function(t){var s=t.total,n=t.success;return(0,e.jsx)("svg",{width:"100%",height:"100%",viewBox:"0 0 40 40",children:(0,e.jsx)("circle",{cx:"20",cy:"20",r:"15.91549430918954",fill:"transparent",strokeWidth:"8",strokeDashoffset:"25",style:{stroke:"".concat(s>0?"#72d5f5":""),strokeDasharray:"".concat(s>0?Math.round(n/s*100):0)+" "+"".concat(s>0?100-Math.round(n/s*100):0)}})})};return(0,a.useEffect)((function(){S(!0)}),[]),(0,e.jsx)(c.Z,{show:s,onClose:C,info:m,children:(0,e.jsxs)("div",{className:"modal-body",id:"printPdf",children:[(0,e.jsxs)("div",{className:"filter-box d-flex bg-gray-100",children:[(0,e.jsxs)("dl",{className:"d-flex",children:[(0,e.jsx)("dt",{children:"\uc870\ud68c\ub0a0\uc9dc"}),(0,e.jsx)("button",{className:"btn btn-sm outline-dark bg-white",type:"button",onClick:function(){p((0,i.Z)((0,r.Z)(new Date,1))),M((0,o.Z)((0,r.Z)(new Date,1)))},"data-html2canvas-ignore":"true",children:"\uc804\uc6d4"}),(0,e.jsx)("button",{className:"btn btn-sm outline-dark bg-white",type:"button",onClick:function(){p((0,i.Z)(new Date)),M((0,o.Z)(new Date))},"data-html2canvas-ignore":"true",children:"\ub2f9\uc6d4"})]}),(0,e.jsx)(l.$m,{props:P,customProps:{minDate:(0,r.Z)(new Date,12)}}),(0,e.jsx)("button",{className:"btn btn-sm bg-gray-800 txt-white","data-html2canvas-ignore":"true",onClick:function(){j?j&&h.Z.get(E).then((function(t){D(t),_(t)})):h.Z.get("api/fo/send/history/".concat(x,"/statistics?beginDate=").concat((0,d.Z)(T,"yyyy-MM-dd"),"&endDate=").concat((0,d.Z)(y,"yyyy-MM-dd"))).then((function(t){D(t)}))},children:"\uac80\uc0c9"})]}),(0,e.jsxs)("div",{className:"chart-wrap",children:[(0,e.jsx)("h4",{className:"hidden",children:"\ud1b5\uacc4"}),"message"===x?(0,e.jsx)("ul",{className:"chart",children:L&&"number"===typeof L.successSmsCnt&&"number"===typeof L.successLmsCnt&&"number"===typeof L.successMmsCnt&&"number"===typeof L.failSmsCnt&&"number"===typeof L.failLmsCnt&&"number"===typeof L.failMmsCnt&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("li",{children:[(0,e.jsx)("div",{className:"circle",children:(0,e.jsx)("div",{className:"success",children:(0,e.jsx)(A,{total:L.totalSmsCnt,success:L.successSmsCnt})})}),(0,e.jsx)("h4",{children:F[0]}),(0,e.jsxs)("span",{className:"s-txt",children:["\ucd1d \ubc1c\uc1a1 \uac74\uc218 : ",L.totalSmsCnt]}),(0,e.jsxs)("dl",{children:[(0,e.jsx)("dt",{children:"\uc131\uacf5"}),(0,e.jsxs)("dd",{className:"success",children:[L.totalSmsCnt>0?Math.round(L.successSmsCnt/L.totalSmsCnt*100):0,(0,e.jsx)("span",{children:"%"})]}),(0,e.jsx)("dt",{children:"\uc2e4\ud328"}),(0,e.jsxs)("dd",{className:"failed",children:[L.totalSmsCnt>0?Math.round(L.failSmsCnt/L.totalSmsCnt*100):0,(0,e.jsx)("span",{children:"%"})]})]})]}),(0,e.jsxs)("li",{children:[(0,e.jsx)("div",{className:"circle",children:(0,e.jsx)("div",{className:"success",children:(0,e.jsx)(A,{total:L.totalLmsCnt,success:L.successLmsCnt})})}),(0,e.jsx)("h4",{children:F[1]}),(0,e.jsxs)("span",{className:"s-txt",children:["\ucd1d \ubc1c\uc1a1 \uac74\uc218 : ",L.totalLmsCnt]}),(0,e.jsxs)("dl",{children:[(0,e.jsx)("dt",{children:"\uc131\uacf5"}),(0,e.jsxs)("dd",{className:"success",children:[L.totalLmsCnt>0?Math.round(L.successLmsCnt/L.totalLmsCnt*100):0,(0,e.jsx)("span",{children:"%"})]}),(0,e.jsx)("dt",{children:"\uc2e4\ud328"}),(0,e.jsxs)("dd",{className:"failed",children:[L.totalLmsCnt>0?Math.round(L.failLmsCnt/L.totalLmsCnt*100):0,(0,e.jsx)("span",{children:"%"})]})]})]}),(0,e.jsxs)("li",{children:[(0,e.jsx)("div",{className:"circle",children:(0,e.jsx)("div",{className:"success",children:(0,e.jsx)(A,{total:L.totalMmsCnt,success:L.successMmsCnt})})}),(0,e.jsx)("h4",{children:F[2]}),(0,e.jsxs)("span",{className:"s-txt",children:["\ucd1d \ubc1c\uc1a1 \uac74\uc218 : ",L.totalMmsCnt]}),(0,e.jsxs)("dl",{children:[(0,e.jsx)("dt",{children:"\uc131\uacf5"}),(0,e.jsxs)("dd",{className:"success",children:[L.totalMmsCnt>0?Math.round(L.successMmsCnt/L.totalMmsCnt*100):0,(0,e.jsx)("span",{children:"%"})]}),(0,e.jsx)("dt",{children:"\uc2e4\ud328"}),(0,e.jsxs)("dd",{className:"failed",children:[L.totalMmsCnt>0?Math.round(L.failMmsCnt/L.totalMmsCnt*100):0,(0,e.jsx)("span",{children:"%"})]})]})]})]})}):(0,e.jsx)("ul",{className:"chart",children:L&&"number"===typeof L.successTkaCnt&&"number"===typeof L.successTkfCnt&&"number"===typeof L.successTktCnt&&"number"===typeof L.failTkaCnt&&"number"===typeof L.failTkfCnt&&"number"===typeof L.failTktCnt&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("li",{children:[(0,e.jsx)("div",{className:"circle",children:(0,e.jsx)("div",{className:"success",children:(0,e.jsx)(A,{total:L.totalTkaCnt,success:L.successTkaCnt})})}),(0,e.jsx)("h4",{children:F[0]}),(0,e.jsxs)("span",{className:"s-txt",children:["\ucd1d \ubc1c\uc1a1 \uac74\uc218 : ",L.totalTkaCnt]}),(0,e.jsxs)("dl",{children:[(0,e.jsx)("dt",{children:"\uc131\uacf5"}),(0,e.jsxs)("dd",{className:"success",children:[L.totalTkaCnt>0?Math.round(L.successTkaCnt/L.totalTkaCnt*100):0,(0,e.jsx)("span",{children:"%"})]}),(0,e.jsx)("dt",{children:"\uc2e4\ud328"}),(0,e.jsxs)("dd",{className:"failed",children:[L.totalTkaCnt>0?Math.round(L.failTkaCnt/L.totalTkaCnt*100):0,(0,e.jsx)("span",{children:"%"})]})]})]}),(0,e.jsxs)("li",{children:[(0,e.jsx)("div",{className:"circle",children:(0,e.jsx)("div",{className:"success",children:(0,e.jsx)(A,{total:L.totalTktCnt,success:L.successTktCnt})})}),(0,e.jsx)("h4",{children:F[1]}),(0,e.jsxs)("span",{className:"s-txt",children:["\ucd1d \ubc1c\uc1a1 \uac74\uc218 : ",L.totalTktCnt]}),(0,e.jsxs)("dl",{children:[(0,e.jsx)("dt",{children:"\uc131\uacf5"}),(0,e.jsxs)("dd",{className:"success",children:[L.totalTktCnt>0?Math.round(L.successTktCnt/L.totalTktCnt*100):0,(0,e.jsx)("span",{children:"%"})]}),(0,e.jsx)("dt",{children:"\uc2e4\ud328"}),(0,e.jsxs)("dd",{className:"failed",children:[L.totalTktCnt>0?Math.round(L.failTktCnt/L.totalTktCnt*100):0,(0,e.jsx)("span",{children:"%"})]})]})]}),(0,e.jsxs)("li",{children:[(0,e.jsx)("div",{className:"circle",children:(0,e.jsx)("div",{className:"success",children:(0,e.jsx)(A,{total:L.totalTkfCnt,success:L.successTkfCnt})})}),(0,e.jsx)("h4",{children:F[2]}),(0,e.jsxs)("span",{className:"s-txt",children:["\ucd1d \ubc1c\uc1a1 \uac74\uc218 : ",L.totalTkfCnt]}),(0,e.jsxs)("dl",{children:[(0,e.jsx)("dt",{children:"\uc131\uacf5"}),(0,e.jsxs)("dd",{className:"success",children:[L.totalTkfCnt>0?Math.round(L.successTkfCnt/L.totalTkfCnt*100):0,(0,e.jsx)("span",{children:"%"})]}),(0,e.jsx)("dt",{children:"\uc2e4\ud328"}),(0,e.jsxs)("dd",{className:"failed",children:[L.totalTkfCnt>0?Math.round(L.failTkfCnt/L.totalTkfCnt*100):0,(0,e.jsx)("span",{children:"%"})]})]})]})]})}),(0,e.jsxs)("div",{className:"d-flex between",children:[(0,e.jsxs)("p",{className:"info",children:["* \ubc1c\uc1a1\ub0b4\uc5ed\uc774 \uc0ad\uc81c\ub41c \uacbd\uc6b0(12\uac1c\uc6d4 \ucd08\uacfc\uac74 \ud3ec\ud568) \ud1b5\uacc4 \uce74\uc6b4\ud2b8\uc5d0\uc11c \uc81c\uc678\ub429\ub2c8\ub2e4.",(0,e.jsx)("br",{}),"* \ubc1c\uc1a1\uacb0\uacfc \uc218\uc2e0\uc0c1\ud669\uc5d0 \ub530\ub77c \ud1b5\uacc4\ub294 \uc2e4\uc2dc\uac04\uc73c\ub85c \ubcc0\uacbd\ub420 \uc218 \uc788\uc2b5\ub2c8\ub2e4.",(0,e.jsx)("br",{}),j?"* \uc9c1\uc811 \ubc1c\uc1a1\ud55c \ub0b4\uc5ed\uacfc \uc5f0\ub3d9 API\ub97c \uc0ac\uc6a9\ud574 \ubc1c\uc1a1\ud55c \ub0b4\uc5ed\uc744 \ud569\uc0b0\ud55c \ud1b5\uacc4 \uacb0\uacfc\uc785\ub2c8\ub2e4.":""]}),(0,e.jsx)("button",{className:"btn btn-sm2 outline-red txt-red",onClick:function(){v&&Promise.all([n.e(7847),n.e(3842),n.e(5443),n.e(3412)]).then(n.t.bind(n,80599,23)).then((function(t){var s=document.getElementById("printPdf");(0,t.default)().set({margin:1,filename:"myfile.pdf",image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"in",format:"letter",orientation:"portrait"}}).from(s).save()}))},"data-html2canvas-ignore":"true",children:"PDF \ub2e4\uc6b4\ub85c\ub4dc"})]})]}),(0,e.jsx)("div",{className:"table-wrap center",children:(0,e.jsxs)("table",{children:[(0,e.jsx)("thead",{children:(0,e.jsxs)("tr",{children:[(0,e.jsx)("th",{children:"\ud0c0\uc785"}),(0,e.jsx)("th",{children:"\ubc1c\uc1a1\uac74\uc218"}),(0,e.jsx)("th",{children:"\uc131\uacf5\uac74\uc218"}),(0,e.jsx)("th",{children:"\uc2e4\ud328\uac74\uc218"}),(0,e.jsx)("th",{children:"\uc131\uacf5\ub960"})]})}),"message"===x?(0,e.jsx)("tbody",{children:L&&"number"===typeof L.successSmsCnt&&"number"===typeof L.successLmsCnt&&"number"===typeof L.successMmsCnt&&"number"===typeof L.failSmsCnt&&"number"===typeof L.failLmsCnt&&"number"===typeof L.failMmsCnt&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:F[0]}),(0,e.jsx)("td",{children:L.totalSmsCnt}),(0,e.jsx)("td",{children:L.successSmsCnt}),(0,e.jsx)("td",{children:L.failSmsCnt}),(0,e.jsxs)("td",{children:[L.totalSmsCnt>0?Math.round(L.successSmsCnt/L.totalSmsCnt*100):0,"%"]})]}),(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:F[1]}),(0,e.jsx)("td",{children:L.totalLmsCnt}),(0,e.jsx)("td",{children:L.successLmsCnt}),(0,e.jsx)("td",{children:L.failLmsCnt}),(0,e.jsxs)("td",{children:[L.totalLmsCnt>0?Math.round(L.successLmsCnt/L.totalLmsCnt*100):0,"%"]})]}),(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:F[2]}),(0,e.jsx)("td",{children:L.totalMmsCnt}),(0,e.jsx)("td",{children:L.successMmsCnt}),(0,e.jsx)("td",{children:L.failMmsCnt}),(0,e.jsxs)("td",{children:[L.totalMmsCnt>0?Math.round(L.successMmsCnt/L.totalMmsCnt*100):0,"%"]})]}),(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:"\ud569\uacc4"}),(0,e.jsx)("td",{children:L.totalSmsCnt+L.totalLmsCnt+L.totalMmsCnt}),(0,e.jsx)("td",{children:L.successSmsCnt+L.successLmsCnt+L.successMmsCnt}),(0,e.jsx)("td",{children:L.failSmsCnt+L.failLmsCnt+L.failMmsCnt}),(0,e.jsxs)("td",{children:[L.totalSmsCnt+L.totalLmsCnt+L.totalMmsCnt>0?Math.round((L.successSmsCnt+L.successLmsCnt+L.successMmsCnt)/(L.totalSmsCnt+L.totalLmsCnt+L.totalMmsCnt)*100):0,"%"]})]})]})}):(0,e.jsx)("tbody",{children:L&&"number"===typeof L.successTkaCnt&&"number"===typeof L.successTkfCnt&&"number"===typeof L.successTktCnt&&"number"===typeof L.failTkaCnt&&"number"===typeof L.failTkfCnt&&"number"===typeof L.failTktCnt&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:F[0]}),(0,e.jsx)("td",{children:L.totalTkaCnt}),(0,e.jsx)("td",{children:L.successTkaCnt}),(0,e.jsx)("td",{children:L.failTkaCnt}),(0,e.jsxs)("td",{children:[L.totalTkaCnt>0?Math.round(L.successTkaCnt/L.totalTkaCnt*100):0,"%"]})]}),(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:F[1]}),(0,e.jsx)("td",{children:L.totalTktCnt}),(0,e.jsx)("td",{children:L.successTktCnt}),(0,e.jsx)("td",{children:L.failTktCnt}),(0,e.jsxs)("td",{children:[L.totalTktCnt>0?Math.round(L.successTktCnt/L.totalTktCnt*100):0,"%"]})]}),(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:F[2]}),(0,e.jsx)("td",{children:L.totalTkfCnt}),(0,e.jsx)("td",{children:L.successTkfCnt}),(0,e.jsx)("td",{children:L.failTkfCnt}),(0,e.jsxs)("td",{children:[L.totalTkfCnt>0?Math.round(L.successTkfCnt/L.totalTkfCnt*100):0,"%"]})]}),(0,e.jsxs)("tr",{children:[(0,e.jsx)("td",{children:"\ud569\uacc4"}),(0,e.jsx)("td",{children:L.totalTkaCnt+L.totalTkfCnt+L.totalTktCnt}),(0,e.jsx)("td",{children:L.successTkaCnt+L.successTkfCnt+L.successTktCnt}),(0,e.jsx)("td",{children:L.failTkaCnt+L.failTkfCnt+L.failTktCnt}),(0,e.jsxs)("td",{children:[L.totalTkaCnt+L.totalTkfCnt+L.totalTktCnt>0?Math.round((L.successTkaCnt+L.successTkfCnt+L.successTktCnt)/(L.totalTkaCnt+L.totalTkfCnt+L.totalTktCnt)*100):0,"%"]})]})]})})]})})]})})}},35621:function(t,s,n){var e=n(85893),c=n(19785);s.Z=function(t){var s,n,a,l=t.show,d=t.onClose,i=t.info,r=void 0===i?{}:i,o=t.children,h=t.isHeadLess,C=r.title,m=r.id,u=r.size,x=r.btn,f=(void 0===x?[{name:"\ud655\uc778",action:d,css:"bg-primary"}]:x).map((function(t,c){return(0,e.jsxs)("button",{type:"button",className:"btn txt-white".concat(t.css?" "+t.css:" bg-primary"),onClick:null!==(s=t.action)&&void 0!==s?s:d,disabled:null!==(n=t.disabled)&&void 0!==n&&n,children:[t.icon&&(0,e.jsx)("span",{className:"ico ico-".concat(t.icon)}),null!==(a=t.name)&&void 0!==a?a:"\ud655\uc778"]},"btn-".concat(c))}));return(0,e.jsxs)(c.Z,{show:l,layerid:m,children:[(0,e.jsxs)("div",{className:"modal".concat(u?" "+u:""),children:[!h&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("button",{className:"btn-close",onClick:d,children:(0,e.jsx)("span",{className:"ico ico-close",children:"\ub2eb\uae30"})}),(0,e.jsx)("h3",{className:"modal-head",children:C||"\uc548\ub0b4"})]}),o,(0,e.jsx)("div",{className:"modal-foot",children:f})]}),(0,e.jsx)("div",{className:"modal-bg",onClick:d})]})}}}]);